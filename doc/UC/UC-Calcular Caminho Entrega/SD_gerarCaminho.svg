<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1349px" preserveAspectRatio="none" style="width:2300px;height:1349px;" version="1.1" viewBox="0 0 2300 1349" width="2300px" zoomAndPan="magnify"><defs><filter height="300%" id="fcz1d5vocmye" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="1161.2969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="394" y="107.9219"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1200.5" y="1072.8125"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1616" y="163.625"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1616" y="223.9766"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1734" y="417.7344"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1734" y="493.9219"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1734" y="602.4609"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1734" y="678.6484"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2103" y="828.7031"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2103" y="1133.1641"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="600.7266" style="stroke:#000000;stroke-width:2.0;" width="1500.5" x="314.5" y="122.9219"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="94.0547" style="stroke:#000000;stroke-width:2.0;" width="624.5" x="324.5" y="268.9766"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="604.5" x="334.5" y="294.3281"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="154.8906" style="stroke:#000000;stroke-width:2.0;" width="1470.5" x="334.5" y="377.0313"/><rect fill="#FFFFFF" height="76.1875" style="stroke:none;stroke-width:1.0;" width="1470.5" x="334.5" y="455.7344"/><rect fill="#FFFFFF" height="184.7266" style="stroke:none;stroke-width:1.0;" width="1500.5" x="314.5" y="538.9219"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="154.8906" style="stroke:#000000;stroke-width:2.0;" width="1470.5" x="334.5" y="561.7578"/><rect fill="#FFFFFF" height="76.1875" style="stroke:none;stroke-width:1.0;" width="1470.5" x="334.5" y="640.4609"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="480.5" x="334.5" y="737.6484"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="94.0547" style="stroke:#000000;stroke-width:2.0;" width="594.5" x="324.5" y="873.7031"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="574.5" x="334.5" y="899.0547"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="601.5" x="334.5" y="981.7578"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="414.5" x="334.5" y="1178.1641"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="398.5" x2="398.5" y1="59.2188" y2="1287.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="939" x2="939" y1="59.2188" y2="1287.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1055" x2="1055" y1="59.2188" y2="1287.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1205" x2="1205" y1="59.2188" y2="1287.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1329" x2="1329" y1="59.2188" y2="1287.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1467" x2="1467" y1="59.2188" y2="1287.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1621" x2="1621" y1="59.2188" y2="1287.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1739" x2="1739" y1="59.2188" y2="1287.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1919" x2="1919" y1="59.2188" y2="1287.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2108" x2="2108" y1="59.2188" y2="1287.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2236" x2="2236" y1="59.2188" y2="1287.2188"/><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="105" x="344.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="351.5" y="44.1426">:CaminhoTask</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="105" x="344.5" y="1286.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="351.5" y="1307.752">:CaminhoTask</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="84" x="895" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="902" y="26.5332">estimativas</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="909.5" y="44.1426">:boolean</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="84" x="895" y="1286.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="902" y="1307.752">estimativas</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="909.5" y="1325.3613">:boolean</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="121" x="993" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1000" y="26.5332">moradaFarmacia</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="1027.5" y="44.1426">:Morada</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="121" x="993" y="1286.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1000" y="1307.752">moradaFarmacia</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="1027.5" y="1325.3613">:Morada</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="151" x="1128" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="1135" y="26.5332">moradasEncomendas</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1158.5" y="44.1426">:List&lt;Morada&gt;</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="151" x="1128" y="1286.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="1135" y="1307.752">moradasEncomendas</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1158.5" y="1325.3613">:List&lt;Morada&gt;</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="69" x="1293" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1303" y="26.5332">isDrone</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1300" y="44.1426">:boolean</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="69" x="1293" y="1286.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1303" y="1307.752">isDrone</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1300" y="1325.3613">:boolean</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="179" x="1376" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8" x="1461.5" y="26.5332">g</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="1383" y="44.1426">: Graph&lt;Morada, Double&gt;</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="179" x="1376" y="1286.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8" x="1461.5" y="1307.752">g</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="1383" y="1325.3613">: Graph&lt;Morada, Double&gt;</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="100" x="1569" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1591.5" y="26.5332">moradas</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1576" y="44.1426">List&lt;Morada&gt;</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="100" x="1569" y="1286.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1591.5" y="1307.752">moradas</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1576" y="1325.3613">List&lt;Morada&gt;</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="108" x="1683" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1690" y="44.1426">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="108" x="1683" y="1286.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1690" y="1307.752">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="225" x="1805" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="1812" y="44.1426">moradasAcessiveis:List&lt;Morada&gt;</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="225" x="1805" y="1286.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="1812" y="1307.752">moradasAcessiveis:List&lt;Morada&gt;</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="124" x="2044" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="2051" y="44.1426">:GraphAlgorithms</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="124" x="2044" y="1286.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="2051" y="1307.752">:GraphAlgorithms</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="104" x="2182" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="2207.5" y="26.5332">caminho</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="2189" y="44.1426">:List&lt;Morada&gt;</text><rect fill="#FEFECE" filter="url(#fcz1d5vocmye)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="104" x="2182" y="1286.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="2207.5" y="1307.752">caminho</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="2189" y="1325.3613">:List&lt;Morada&gt;</text><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="1161.2969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="394" y="107.9219"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1200.5" y="1072.8125"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1616" y="163.625"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1616" y="223.9766"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1734" y="417.7344"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1734" y="493.9219"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1734" y="602.4609"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1734" y="678.6484"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2103" y="828.7031"/><rect fill="#FFFFFF" filter="url(#fcz1d5vocmye)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2103" y="1133.1641"/><polygon fill="#A80036" points="382,103.9219,392,107.9219,382,111.9219,386,107.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="0" x2="388" y1="107.9219" y2="107.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="7" y="94.8896">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="18" y="86.7139">gerarCaminhogerarCaminho</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="364" x="18" y="103.0654">(estimativas, moradaFarmacia, moradasEncomendas, isDrone)</text><path d="M314.5,122.9219 L379.5,122.9219 L379.5,130.9219 L369.5,140.9219 L314.5,140.9219 L314.5,122.9219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="600.7266" style="stroke:#000000;stroke-width:2.0;" width="1500.5" x="314.5" y="122.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="329.5" y="137.417">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="92" x="394.5" y="136.3408">[isDrone == true]</text><polygon fill="#A80036" points="1604,159.625,1614,163.625,1604,167.625,1608,163.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="1610" y1="163.625" y2="163.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="411" y="158.7686">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="422" y="158.7686">add(moradaFarmacia)</text><polygon fill="#A80036" points="1604,219.9766,1614,223.9766,1604,227.9766,1608,223.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="1610" y1="223.9766" y2="223.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="411" y="219.1201">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="422" y="219.1201">addAll(moradasEncomendas)</text><path d="M324.5,268.9766 L397.5,268.9766 L397.5,276.9766 L387.5,286.9766 L324.5,286.9766 L324.5,268.9766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="94.0547" style="stroke:#000000;stroke-width:2.0;" width="624.5" x="324.5" y="268.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="339.5" y="283.4717">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="156" x="412.5" y="282.3955">[for each morada : moradas]</text><path d="M334.5,294.3281 L415.5,294.3281 L415.5,302.3281 L405.5,312.3281 L334.5,312.3281 L334.5,294.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="604.5" x="334.5" y="294.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="36" x="349.5" y="308.8232">break</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136" x="430.5" y="307.7471">[exception altitude &gt; 150]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="446" y1="335.0313" y2="335.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="446" x2="446" y1="335.0313" y2="348.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="405" x2="446" y1="348.0313" y2="348.0313"/><polygon fill="#A80036" points="415,344.0313,405,348.0313,415,352.0313,411,348.0313" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="411" y="330.1748">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="505" x="422" y="330.1748">throw new Exception("As moradas a percorrer têm altitudes superiores a 150 metros.");</text><path d="M334.5,377.0313 L399.5,377.0313 L399.5,385.0313 L389.5,395.0313 L334.5,395.0313 L334.5,377.0313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="154.8906" style="stroke:#000000;stroke-width:2.0;" width="1470.5" x="334.5" y="377.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="349.5" y="391.5264">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="113" x="414.5" y="390.4502">[estimativas == true]</text><polygon fill="#A80036" points="1722,413.7344,1732,417.7344,1722,421.7344,1726,417.7344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="1728" y1="417.7344" y2="417.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="411" y="412.8779">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="422" y="412.8779">g = getInstance().getMapaAereoEstimativas();</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="334.5" x2="1805" y1="456.7344" y2="456.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="117" x="339.5" y="468.1533">[estimativas == false]</text><polygon fill="#A80036" points="1722,489.9219,1732,493.9219,1722,497.9219,1726,493.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="1728" y1="493.9219" y2="493.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="411" y="489.0654">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="422" y="489.0654">g = getInstance().getMapaAereoDistancias();</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="314.5" x2="1815" y1="539.9219" y2="539.9219"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="96" x="319.5" y="551.3408">[isDrone == false]</text><path d="M334.5,561.7578 L399.5,561.7578 L399.5,569.7578 L389.5,579.7578 L334.5,579.7578 L334.5,561.7578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="154.8906" style="stroke:#000000;stroke-width:2.0;" width="1470.5" x="334.5" y="561.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="349.5" y="576.2529">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="113" x="414.5" y="575.1768">[estimativas == true]</text><polygon fill="#A80036" points="1722,598.4609,1732,602.4609,1722,606.4609,1726,602.4609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="1728" y1="602.4609" y2="602.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="411" y="597.6045">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="422" y="597.6045">g = getInstance().getMapaTerrestreEstimativas();</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="334.5" x2="1805" y1="641.4609" y2="641.4609"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="117" x="339.5" y="652.8799">[estimativas == false]</text><polygon fill="#A80036" points="1722,674.6484,1732,678.6484,1722,682.6484,1726,678.6484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="1728" y1="678.6484" y2="678.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="411" y="673.792">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="422" y="673.792">g = getInstance().getMapaTerrestreDistancias();</text><path d="M334.5,737.6484 L415.5,737.6484 L415.5,745.6484 L405.5,755.6484 L334.5,755.6484 L334.5,737.6484 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="480.5" x="334.5" y="737.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="36" x="349.5" y="752.1436">break</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="271" x="430.5" y="751.0674">[exception validVertex(moradaFarmacia) == false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="446" y1="778.3516" y2="778.3516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="446" x2="446" y1="778.3516" y2="791.3516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="405" x2="446" y1="791.3516" y2="791.3516"/><polygon fill="#A80036" points="415,787.3516,405,791.3516,415,795.3516,411,791.3516" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="411" y="773.4951">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="381" x="422" y="773.4951">throw new Exception("A morada da farmacia nao esta no mapa.");</text><polygon fill="#A80036" points="2091,824.7031,2101,828.7031,2091,832.7031,2095,828.7031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="2097" y1="828.7031" y2="828.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="411" y="823.8467">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="429" y="823.8467">moradasAcessiveis = breadthFirstSearch(g, moradaFarmacia)</text><path d="M324.5,873.7031 L397.5,873.7031 L397.5,881.7031 L387.5,891.7031 L324.5,891.7031 L324.5,873.7031 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="94.0547" style="stroke:#000000;stroke-width:2.0;" width="594.5" x="324.5" y="873.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="339.5" y="888.1982">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="245" x="412.5" y="887.1221">[for each intermedia : moradasEncomendas]</text><path d="M334.5,899.0547 L415.5,899.0547 L415.5,907.0547 L405.5,917.0547 L334.5,917.0547 L334.5,899.0547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="574.5" x="334.5" y="899.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="36" x="349.5" y="913.5498">break</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="240" x="430.5" y="912.4736">[exception validVertex(intermedia) == false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="446" y1="939.7578" y2="939.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="446" x2="446" y1="939.7578" y2="952.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="405" x2="446" y1="952.7578" y2="952.7578"/><polygon fill="#A80036" points="415,948.7578,405,952.7578,415,956.7578,411,952.7578" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="411" y="934.9014">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="468" x="429" y="934.9014">throw new Exception("Uma das moradas de entrega nao se encontra no mapa.");</text><path d="M334.5,981.7578 L415.5,981.7578 L415.5,989.7578 L405.5,999.7578 L334.5,999.7578 L334.5,981.7578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="601.5" x="334.5" y="981.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="36" x="349.5" y="996.2529">break</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="299" x="430.5" y="995.1768">[exception containsAll(moradasEncomendas) == false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="446" y1="1022.4609" y2="1022.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="446" x2="446" y1="1022.4609" y2="1035.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="405" x2="446" y1="1035.4609" y2="1035.4609"/><polygon fill="#A80036" points="415,1031.4609,405,1035.4609,415,1039.4609,411,1035.4609" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="411" y="1017.6045">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="495" x="429" y="1017.6045">throw new Exception("Nao e possivel aceder a uma das moradas desde a farmacia.");</text><polygon fill="#A80036" points="1188.5,1068.8125,1198.5,1072.8125,1188.5,1076.8125,1192.5,1072.8125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="1194.5" y1="1072.8125" y2="1072.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="411" y="1067.9561">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="429" y="1067.9561">add(moradaFarmacia)</text><polygon fill="#A80036" points="2091,1129.1641,2101,1133.1641,2091,1137.1641,2095,1133.1641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="2097" y1="1133.1641" y2="1133.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="411" y="1128.3076">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="580" x="429" y="1128.3076">caminho = shortestPathMultipleNodes(g, moradasEncomendas, moradaFarmacia, moradaFarmacia)</text><path d="M334.5,1178.1641 L415.5,1178.1641 L415.5,1186.1641 L405.5,1196.1641 L334.5,1196.1641 L334.5,1178.1641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="414.5" x="334.5" y="1178.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="36" x="349.5" y="1192.6592">break</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="299" x="430.5" y="1191.583">[exception containsAll(moradasEncomendas) == false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="404" x2="446" y1="1218.8672" y2="1218.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="446" x2="446" y1="1218.8672" y2="1231.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="405" x2="446" y1="1231.8672" y2="1231.8672"/><polygon fill="#A80036" points="415,1227.8672,405,1231.8672,415,1235.8672,411,1231.8672" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="411" y="1214.0107">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="429" y="1214.0107">throw new Exception("Nao e possivel este caminho.")</text><polygon fill="#A80036" points="11,1265.2188,1,1269.2188,11,1273.2188,7,1269.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="398" y1="1269.2188" y2="1269.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="1264.3623">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="35" y="1264.3623">caminho</text><!--MD5=[fb93fc7607b1e26262748413f13106d3]
@startuml
autonumber

participant ":CaminhoTask" as CAMINHOTASK

participant "estimativas\n:boolean" as ESTIMATIVAS
participant "moradaFarmacia\n:Morada" as FARMACIA
participant "moradasEncomendas\n:List<Morada>" as MORADASENCOMENDAS
participant "isDrone\n:boolean" as ISDRONE

participant "g\n: Graph<Morada, Double>" as GRAFO
participant "moradas\nList<Morada>" as MORADAS
participant ":AplicacaoPOT" as APP
participant "moradasAcessiveis:List<Morada>" as MORADASACESSIVEIS
participant ":GraphAlgorithms" as ALG
participant "caminho\n:List<Morada>" as CAMINHO

-> CAMINHOTASK : gerarCaminhogerarCaminho\n(estimativas, moradaFarmacia, moradasEncomendas, isDrone)
activate CAMINHOTASK

opt isDrone == true

    CAMINHOTASK -> MORADAS : add(moradaFarmacia)
    activate MORADAS
    deactivate MORADAS

    CAMINHOTASK -> MORADAS : addAll(moradasEncomendas)
    activate MORADAS
    deactivate MORADAS

loop for each morada : moradas
    break exception altitude > 150
    CAMINHOTASK -> CAMINHOTASK : throw new Exception("As moradas a percorrer têm altitudes superiores a 150 metros.");
    end opt
end loop

opt estimativas == true
    CAMINHOTASK -> APP : g = getInstance().getMapaAereoEstimativas();
    activate APP
    deactivate APP
else estimativas == false
    CAMINHOTASK -> APP : g = getInstance().getMapaAereoDistancias();
    activate APP
    deactivate APP
end opt

else isDrone == false
    opt estimativas == true
        CAMINHOTASK -> APP : g = getInstance().getMapaTerrestreEstimativas();
        activate APP
        deactivate APP
    else estimativas == false
        CAMINHOTASK -> APP : g = getInstance().getMapaTerrestreDistancias();
        activate APP
        deactivate APP
    end opt
end opt

break exception validVertex(moradaFarmacia) == false
    CAMINHOTASK -> CAMINHOTASK : throw new Exception("A morada da farmacia nao esta no mapa.");
end opt

CAMINHOTASK -> ALG : moradasAcessiveis = breadthFirstSearch(g, moradaFarmacia)
activate ALG
deactivate ALG

loop for each intermedia : moradasEncomendas
    break exception validVertex(intermedia) == false
        CAMINHOTASK -> CAMINHOTASK : throw new Exception("Uma das moradas de entrega nao se encontra no mapa.");
    end opt
end loop

break exception containsAll(moradasEncomendas) == false
    CAMINHOTASK -> CAMINHOTASK : throw new Exception("Nao e possivel aceder a uma das moradas desde a farmacia.");
end opt

CAMINHOTASK -> MORADASENCOMENDAS : add(moradaFarmacia)
activate MORADASENCOMENDAS
deactivate MORADASENCOMENDAS

CAMINHOTASK -> ALG : caminho = shortestPathMultipleNodes(g, moradasEncomendas, moradaFarmacia, moradaFarmacia)
activate ALG
deactivate ALG

break exception containsAll(moradasEncomendas) == false
    CAMINHOTASK -> CAMINHOTASK : throw new Exception("Nao e possivel este caminho.")
end opt

<- - CAMINHOTASK : caminho

deactivate CAMINHOTASK

@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>