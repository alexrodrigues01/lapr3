<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="796px" preserveAspectRatio="none" style="width:2373px;height:796px;" version="1.1" viewBox="0 0 2373 796" width="2373px" zoomAndPan="magnify"><defs><filter height="300%" id="f15v21b72o65a7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="592.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="306" y="124.2734"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1110" y="154.625"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1485.5" y="391.7344"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1485.5" y="588.625"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1777" y="331.3828"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1777" y="528.2734"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2025.5" y="452.0859"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2239.5" y="648.9766"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="396.2969" style="stroke:#000000;stroke-width:2.0;" width="2112.5" x="246.5" y="290.6797"/><rect fill="#FFFFFF" height="196.8906" style="stroke:none;stroke-width:1.0;" width="2112.5" x="246.5" y="490.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="310.5" x2="310.5" y1="59.2188" y2="734.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="870" x2="870" y1="59.2188" y2="734.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="984" x2="984" y1="59.2188" y2="734.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1115" x2="1115" y1="59.2188" y2="734.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1257" x2="1257" y1="59.2188" y2="734.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1386" x2="1386" y1="59.2188" y2="734.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1490" x2="1490" y1="59.2188" y2="734.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1633" x2="1633" y1="59.2188" y2="734.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1782" x2="1782" y1="59.2188" y2="734.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1888" x2="1888" y1="59.2188" y2="734.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2030" x2="2030" y1="59.2188" y2="734.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2244" x2="2244" y1="59.2188" y2="734.3281"/><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="105" x="256.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="263.5" y="44.1426">:CaminhoTask</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="105" x="256.5" y="733.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="263.5" y="754.8613">:CaminhoTask</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="64" x="836" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="846" y="26.5332">veiculo</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="843" y="44.1426">:Veiculo</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="64" x="836" y="733.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="846" y="754.8613">veiculo</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="843" y="772.4707">:Veiculo</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="137" x="914" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="921" y="26.5332">massaEncomendas</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="959" y="44.1426">:double</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="137" x="914" y="733.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="921" y="754.8613">massaEncomendas</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="959" y="772.4707">:double</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1065" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="1086.5" y="26.5332">caminho</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1072" y="44.1426">:List&lt;Morada</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1065" y="733.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="1086.5" y="754.8613">caminho</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1072" y="772.4707">:List&lt;Morada</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="161" x="1175" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1225" y="26.5332">farmacias</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="1182" y="44.1426">:Map&lt;Integer, Morada&gt;</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="161" x="1175" y="733.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1225" y="754.8613">farmacias</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="1182" y="772.4707">:Map&lt;Integer, Morada&gt;</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="69" x="1350" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1360" y="26.5332">isDrone</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1357" y="44.1426">:boolean</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="69" x="1350" y="733.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1360" y="754.8613">isDrone</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1357" y="772.4707">:boolean</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="111" x="1433" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1440" y="26.5332">caminhoMinimo</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1443.5" y="44.1426">:List&lt;Morada&gt;</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="111" x="1433" y="733.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1440" y="754.8613">caminhoMinimo</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1443.5" y="772.4707">:List&lt;Morada&gt;</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="146" x="1558" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1593" y="26.5332">caminhoAux</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="1565" y="44.1426">:LinkedList&lt;Morada&gt;</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="146" x="1558" y="733.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1593" y="754.8613">caminhoAux</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="1565" y="772.4707">:LinkedList&lt;Morada&gt;</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="124" x="1718" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="1725" y="44.1426">:GraphAlgorithms</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="124" x="1718" y="733.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="1725" y="754.8613">:GraphAlgorithms</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="61" x="1856" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="1866.5" y="26.5332">output</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1863" y="44.1426">:double</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="61" x="1856" y="733.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="1866.5" y="754.8613">output</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1863" y="772.4707">:double</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="195" x="1931" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="1938" y="44.1426">:EstimarConsumoDroneTask</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="195" x="1931" y="733.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="1938" y="754.8613">:EstimarConsumoDroneTask</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="205" x="2140" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="2147" y="44.1426">:EstimarConsumoScooterTask</text><rect fill="#FEFECE" filter="url(#f15v21b72o65a7)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="205" x="2140" y="733.3281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="2147" y="754.8613">:EstimarConsumoScooterTask</text><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="592.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="306" y="124.2734"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1110" y="154.625"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1485.5" y="391.7344"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1485.5" y="588.625"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1777" y="331.3828"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1777" y="528.2734"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2025.5" y="452.0859"/><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2239.5" y="648.9766"/><polygon fill="#A80036" points="294,120.2734,304,124.2734,294,128.2734,298,124.2734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="0" x2="300" y1="124.2734" y2="124.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="7" y="103.0654">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="18" y="86.7139">energiaMinimiaCaminho</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="18" y="103.0654">(veiculo, massaEncomendas,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="22" y="119.417">new ArrayList&lt;&gt;(caminho), farmacias, isDrone)</text><polygon fill="#A80036" points="1098,150.625,1108,154.625,1098,158.625,1102,154.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="316" x2="1104" y1="154.625" y2="154.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="323" y="149.7686">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="334" y="149.7686">caminhoMinimo = subList(0, 1);</text><line style="stroke:#A80036;stroke-width:1.0;" x1="316" x2="358" y1="214.9766" y2="214.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="358" x2="358" y1="214.9766" y2="227.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="317" x2="358" y1="227.9766" y2="227.9766"/><polygon fill="#A80036" points="327,223.9766,317,227.9766,327,231.9766,323,227.9766" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="323" y="210.1201">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="524" x="334" y="210.1201">farmaciaMaisPerto = getFarmaciaMaisPertoConsumo(caminho.get(1), farmacias, isDrone);</text><rect fill="#FFFFFF" filter="url(#f15v21b72o65a7)" height="42.7031" style="stroke:#000000;stroke-width:2.0;" width="141" x="253.5" y="235.9766"/><polygon fill="#EEEEEE" points="253.5,235.9766,315.5,235.9766,315.5,243.9766,305.5,253.9766,253.5,253.9766,253.5,235.9766" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="266.5" y="251.4717">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="259.5" y="271.4717">SD_farmaciaMaisPerto</text><path d="M246.5,290.6797 L311.5,290.6797 L311.5,298.6797 L301.5,308.6797 L246.5,308.6797 L246.5,290.6797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="396.2969" style="stroke:#000000;stroke-width:2.0;" width="2112.5" x="246.5" y="290.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="261.5" y="305.1748">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="86" x="326.5" y="304.0986">[isDrone = true]</text><polygon fill="#A80036" points="1765,327.3828,1775,331.3828,1765,335.3828,1769,331.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="316" x2="1771" y1="331.3828" y2="331.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="323" y="326.5264">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="697" x="334" y="326.5264">shortestPath(AplicacaoPOT.getInstance().getMapaAereoEstimativas(), caminho.get(1), farmaciaMaisPerto, caminhoAux)</text><polygon fill="#A80036" points="1473.5,387.7344,1483.5,391.7344,1473.5,395.7344,1477.5,391.7344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="316" x2="1479.5" y1="391.7344" y2="391.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="323" y="386.8779">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="334" y="386.8779">addAll(caminhoAux)</text><polygon fill="#A80036" points="2013.5,448.0859,2023.5,452.0859,2013.5,456.0859,2017.5,452.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="316" x2="2019.5" y1="452.0859" y2="452.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="323" y="447.2295">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="552" x="334" y="447.2295">output = estimarConsumoPercurso((Drone) veiculo, massaEncomendas, caminhoMinimo, false)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="246.5" x2="2359" y1="491.0859" y2="491.0859"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="90" x="251.5" y="502.5049">[isDrone = false]</text><polygon fill="#A80036" points="1765,524.2734,1775,528.2734,1765,532.2734,1769,528.2734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="316" x2="1771" y1="528.2734" y2="528.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="323" y="523.417">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="714" x="334" y="523.417">shortestPath(AplicacaoPOT.getInstance().getMapaTerrestreEstimativas(), caminho.get(1), farmaciaMaisPerto, caminhoAux)</text><polygon fill="#A80036" points="1473.5,584.625,1483.5,588.625,1473.5,592.625,1477.5,588.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="316" x2="1479.5" y1="588.625" y2="588.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="323" y="583.7686">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="334" y="583.7686">addAll(caminhoAux)</text><polygon fill="#A80036" points="2227.5,644.9766,2237.5,648.9766,2227.5,652.9766,2231.5,648.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="316" x2="2233.5" y1="648.9766" y2="648.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="323" y="644.1201">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="611" x="334" y="644.1201">output = calculoEstimativaConsumo(true, veiculo.getMassa(), massaEncomendas, caminhoMinimo, false)</text><polygon fill="#A80036" points="11,712.3281,1,716.3281,11,720.3281,7,716.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="310" y1="716.3281" y2="716.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="711.4717">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="35" y="711.4717">output</text><!--MD5=[f13ab084894b53702f7d13e471c90496]
@startuml
autonumber

participant ":CaminhoTask" as CAMINHOTASK

participant "veiculo\n:Veiculo" as VEICULO
participant "massaEncomendas\n:double" as MASSA
participant "caminho\n:List<Morada" as CAMINHO
participant "farmacias\n:Map<Integer, Morada>" as FARMACIAS
participant "isDrone\n:boolean" as ISDRONE

participant "caminhoMinimo\n:List<Morada>" as CAMINHOMINIMO
participant "caminhoAux\n:LinkedList<Morada>" as CAMINHOAUX
participant ":GraphAlgorithms" as ALG

participant "output\n:double" as OUTPUT
participant ":EstimarConsumoDroneTask" as ECD
participant ":EstimarConsumoScooterTask" as ECS

-> CAMINHOTASK : energiaMinimiaCaminho\n(veiculo, massaEncomendas,\n new ArrayList<>(caminho), farmacias, isDrone)
activate CAMINHOTASK

CAMINHOTASK -> CAMINHO : caminhoMinimo = subList(0, 1);
activate CAMINHO
deactivate CAMINHO

CAMINHOTASK -> CAMINHOTASK : farmaciaMaisPerto = getFarmaciaMaisPertoConsumo(caminho.get(1), farmacias, isDrone);
ref over CAMINHOTASK
    SD_farmaciaMaisPerto
end ref

opt isDrone = true
    CAMINHOTASK -> ALG : shortestPath(AplicacaoPOT.getInstance().getMapaAereoEstimativas(), caminho.get(1), farmaciaMaisPerto, caminhoAux)
    activate ALG
    deactivate ALG

    CAMINHOTASK -> CAMINHOMINIMO : addAll(caminhoAux)
    activate CAMINHOMINIMO
    deactivate CAMINHOMINIMO

    CAMINHOTASK -> ECD : output = estimarConsumoPercurso((Drone) veiculo, massaEncomendas, caminhoMinimo, false)
    activate ECD
    deactivate ECD
else isDrone = false
    CAMINHOTASK -> ALG : shortestPath(AplicacaoPOT.getInstance().getMapaTerrestreEstimativas(), caminho.get(1), farmaciaMaisPerto, caminhoAux)
    activate ALG
    deactivate ALG

    CAMINHOTASK -> CAMINHOMINIMO : addAll(caminhoAux)
    activate CAMINHOMINIMO
    deactivate CAMINHOMINIMO

    CAMINHOTASK -> ECS : output = calculoEstimativaConsumo(true, veiculo.getMassa(), massaEncomendas, caminhoMinimo, false)
    activate ECS
    deactivate ECS
end opt

<- - CAMINHOTASK : output

deactivate CAMINHOTASK

@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>