<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="912.1px" preserveAspectRatio="none" style="width:863px;height:912px;" version="1.1" viewBox="0 0 863 912" width="863.1px" zoomAndPan="magnify"><defs><filter height="300%" id="f1kan3n2ardhz8" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.8" dy="2.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[43109d58bad9cfbec3c31a95dd37f34a]
class FinalizarCompraUI--><rect codeLine="5" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="33.6" id="FinalizarCompraUI" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="94.5" x="4.9" y="471.8"/><ellipse cx="15.4" cy="483" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M16.8,480.55 Q16.9422,480.2 17.1063,480.025 Q17.2703,479.85 17.4562,479.85 Q17.7844,479.85 17.9922,480.0469 Q18.2,480.2438 18.2,480.7031 L18.2,481.7969 Q18.2,482.2562 18.0031,482.4531 Q17.8063,482.65 17.5,482.65 Q17.2266,482.65 17.0516,482.5297 Q16.8766,482.4094 16.8,482.0922 Q16.7672,481.8734 16.6469,481.7531 Q16.4281,481.5234 16.0344,481.3922 Q15.6406,481.25 15.2469,481.25 Q14.7547,481.25 14.3391,481.4469 Q13.9344,481.6437 13.6172,482.0812 Q13.3,482.5187 13.3,483.1203 L13.3,483.7656 Q13.3,484.4875 13.8906,484.9687 Q14.4813,485.45 15.5312,485.45 Q16.1547,485.45 16.5922,485.3078 Q16.8438,485.2313 17.1281,484.9797 Q17.3141,484.8375 17.4125,484.7938 Q17.5109,484.75 17.6312,484.75 Q17.8609,484.75 18.025,484.9359 Q18.2,485.1109 18.2,485.3625 Q18.2,485.6031 17.9594,485.8875 Q17.6094,486.3031 17.0516,486.5328 Q16.3187,486.85 15.4219,486.85 Q14.3719,486.85 13.5297,486.4344 Q12.8516,486.1063 12.3703,485.3953 Q11.9,484.6844 11.9,483.8422 L11.9,483.0766 Q11.9,482.2016 12.3156,481.4359 Q12.7422,480.6703 13.475,480.2656 Q14.2187,479.85 15.05,479.85 Q15.5531,479.85 15.9906,480.025 Q16.4281,480.2 16.8,480.55 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="72.1" x="25.2" y="486.4371">FinalizarCompraUI</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="5.6" x2="98.7" y1="494.2" y2="494.2"/><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="5.6" x2="98.7" y1="499.8" y2="499.8"/><!--MD5=[6af36dc5a2ffc1e0f4fb85bd897a785b]
class FinalizarCompraController--><rect codeLine="7" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="91.7109" id="FinalizarCompraController" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="192.5" x="141.4" y="442.75"/><ellipse cx="183.925" cy="453.95" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M185.325,451.5 Q185.4672,451.15 185.6313,450.975 Q185.7953,450.8 185.9813,450.8 Q186.3094,450.8 186.5172,450.9969 Q186.725,451.1937 186.725,451.6531 L186.725,452.7469 Q186.725,453.2062 186.5281,453.4031 Q186.3312,453.6 186.025,453.6 Q185.7516,453.6 185.5766,453.4797 Q185.4016,453.3594 185.325,453.0422 Q185.2922,452.8234 185.1719,452.7031 Q184.9531,452.4734 184.5594,452.3422 Q184.1656,452.2 183.7719,452.2 Q183.2797,452.2 182.8641,452.3969 Q182.4594,452.5937 182.1422,453.0312 Q181.825,453.4687 181.825,454.0703 L181.825,454.7156 Q181.825,455.4375 182.4156,455.9188 Q183.0063,456.4 184.0562,456.4 Q184.6797,456.4 185.1172,456.2578 Q185.3687,456.1813 185.6531,455.9297 Q185.8391,455.7875 185.9375,455.7438 Q186.0359,455.7 186.1563,455.7 Q186.3859,455.7 186.55,455.8859 Q186.725,456.0609 186.725,456.3125 Q186.725,456.5531 186.4844,456.8375 Q186.1344,457.2531 185.5766,457.4828 Q184.8438,457.8 183.9469,457.8 Q182.8969,457.8 182.0547,457.3844 Q181.3766,457.0563 180.8953,456.3453 Q180.425,455.6344 180.425,454.7922 L180.425,454.0266 Q180.425,453.1516 180.8406,452.3859 Q181.2672,451.6203 182,451.2156 Q182.7437,450.8 183.575,450.8 Q184.0781,450.8 184.5156,450.975 Q184.9531,451.15 185.325,451.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="101.5" x="198.275" y="457.3871">FinalizarCompraController</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="142.1" x2="333.2" y1="465.15" y2="465.15"/><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="142.1" x2="333.2" y1="470.75" y2="470.75"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="184.1" x="145.6" y="481.5433">+FinalizarCompraController FinalizarCompraController()</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="48.3" x="145.6" y="491.2284">+getCreditos()</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="58.1" x="145.6" y="500.9136">+validaCVV(cvv)</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="172.9" x="145.6" y="510.5987">+finalizarCompra(numeroCreditosDescontados, nif)</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="74.9" x="145.6" y="520.2839">-validaStock(carrinho)</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="108.5" x="145.6" y="529.969">-calcularPesoCarrinho(carrinho)</text><!--MD5=[974ba70e7525909cc02d983bbe10b84a]
class CarrinhoCompras--><rect codeLine="16" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="62.6555" id="CarrinhoCompras" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="92.4" x="494.2" y="4.9"/><ellipse cx="504.7" cy="16.1" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M506.1,13.65 Q506.2422,13.3 506.4062,13.125 Q506.5703,12.95 506.7562,12.95 Q507.0844,12.95 507.2922,13.1469 Q507.5,13.3438 507.5,13.8031 L507.5,14.8969 Q507.5,15.3563 507.3031,15.5531 Q507.1063,15.75 506.8,15.75 Q506.5266,15.75 506.3516,15.6297 Q506.1766,15.5094 506.1,15.1922 Q506.0672,14.9734 505.9469,14.8531 Q505.7281,14.6234 505.3344,14.4922 Q504.9406,14.35 504.5469,14.35 Q504.0547,14.35 503.6391,14.5469 Q503.2344,14.7437 502.9172,15.1812 Q502.6,15.6187 502.6,16.2203 L502.6,16.8656 Q502.6,17.5875 503.1906,18.0687 Q503.7812,18.55 504.8312,18.55 Q505.4547,18.55 505.8922,18.4078 Q506.1437,18.3312 506.4281,18.0797 Q506.6141,17.9375 506.7125,17.8937 Q506.8109,17.85 506.9313,17.85 Q507.1609,17.85 507.325,18.0359 Q507.5,18.2109 507.5,18.4625 Q507.5,18.7031 507.2594,18.9875 Q506.9094,19.4031 506.3516,19.6328 Q505.6188,19.95 504.7219,19.95 Q503.6719,19.95 502.8297,19.5344 Q502.1516,19.2062 501.6703,18.4953 Q501.2,17.7844 501.2,16.9422 L501.2,16.1766 Q501.2,15.3016 501.6156,14.5359 Q502.0422,13.7703 502.775,13.3656 Q503.5187,12.95 504.35,12.95 Q504.8531,12.95 505.2906,13.125 Q505.7281,13.3 506.1,13.65 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="70" x="514.5" y="19.5371">CarrinhoCompras</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="494.9" x2="585.9" y1="27.3" y2="27.3"/><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="494.9" x2="585.9" y1="32.9" y2="32.9"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="49" x="498.4" y="43.6933">+getCarrinho()</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="56" x="498.4" y="53.3784">+getPrecoTotal()</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="58.1" x="498.4" y="63.0636">+limparCarrinho()</text><!--MD5=[380d12a68ed0046a60f31008a02875d0]
class AplicacaoPOT--><rect codeLine="22" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="52.9703" id="AplicacaoPOT" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="76.3" x="502.25" y="92.4"/><ellipse cx="512.75" cy="103.6" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M514.15,101.15 Q514.2922,100.8 514.4563,100.625 Q514.6203,100.45 514.8063,100.45 Q515.1344,100.45 515.3422,100.6469 Q515.55,100.8438 515.55,101.3031 L515.55,102.3969 Q515.55,102.8562 515.3531,103.0531 Q515.1563,103.25 514.85,103.25 Q514.5766,103.25 514.4016,103.1297 Q514.2266,103.0094 514.15,102.6922 Q514.1172,102.4734 513.9969,102.3531 Q513.7781,102.1234 513.3844,101.9922 Q512.9906,101.85 512.5969,101.85 Q512.1047,101.85 511.6891,102.0469 Q511.2844,102.2437 510.9672,102.6812 Q510.65,103.1187 510.65,103.7203 L510.65,104.3656 Q510.65,105.0875 511.2406,105.5688 Q511.8312,106.05 512.8813,106.05 Q513.5047,106.05 513.9422,105.9078 Q514.1938,105.8313 514.4781,105.5797 Q514.6641,105.4375 514.7625,105.3938 Q514.8609,105.35 514.9812,105.35 Q515.2109,105.35 515.375,105.5359 Q515.55,105.7109 515.55,105.9625 Q515.55,106.2031 515.3094,106.4875 Q514.9594,106.9031 514.4016,107.1328 Q513.6687,107.45 512.7719,107.45 Q511.7219,107.45 510.8797,107.0344 Q510.2016,106.7063 509.7203,105.9953 Q509.25,105.2844 509.25,104.4422 L509.25,103.6766 Q509.25,102.8016 509.6656,102.0359 Q510.0922,101.2703 510.825,100.8656 Q511.5687,100.45 512.4,100.45 Q512.9031,100.45 513.3406,100.625 Q513.7781,100.8 514.15,101.15 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="53.9" x="522.55" y="107.0371">AplicacaoPOT</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="502.95" x2="577.85" y1="114.8" y2="114.8"/><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="502.95" x2="577.85" y1="120.4" y2="120.4"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="49" x="506.45" y="131.1933">+getInstance()</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="63.7" x="506.45" y="140.8784">+getSessaoAtual()</text><!--MD5=[1e13576e8c070e32200b62ceaa1f39ec]
class SessaoUtilizador--><rect codeLine="27" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="43.2852" id="SessaoUtilizador" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="98" x="491.4" y="170.1"/><ellipse cx="506.31" cy="181.3" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M507.71,178.85 Q507.8522,178.5 508.0162,178.325 Q508.1803,178.15 508.3662,178.15 Q508.6944,178.15 508.9022,178.3469 Q509.11,178.5438 509.11,179.0031 L509.11,180.0969 Q509.11,180.5562 508.9131,180.7531 Q508.7162,180.95 508.41,180.95 Q508.1366,180.95 507.9616,180.8297 Q507.7866,180.7094 507.71,180.3922 Q507.6772,180.1734 507.5569,180.0531 Q507.3381,179.8234 506.9444,179.6922 Q506.5506,179.55 506.1569,179.55 Q505.6647,179.55 505.2491,179.7469 Q504.8444,179.9438 504.5272,180.3813 Q504.21,180.8188 504.21,181.4203 L504.21,182.0656 Q504.21,182.7875 504.8006,183.2687 Q505.3912,183.75 506.4412,183.75 Q507.0647,183.75 507.5022,183.6078 Q507.7537,183.5313 508.0381,183.2797 Q508.2241,183.1375 508.3225,183.0938 Q508.4209,183.05 508.5412,183.05 Q508.7709,183.05 508.935,183.2359 Q509.11,183.4109 509.11,183.6625 Q509.11,183.9031 508.8694,184.1875 Q508.5194,184.6031 507.9616,184.8328 Q507.2287,185.15 506.3319,185.15 Q505.2819,185.15 504.4397,184.7344 Q503.7616,184.4063 503.2803,183.6953 Q502.81,182.9844 502.81,182.1422 L502.81,181.3766 Q502.81,180.5016 503.2256,179.7359 Q503.6522,178.9703 504.385,178.5656 Q505.1287,178.15 505.96,178.15 Q506.4631,178.15 506.9006,178.325 Q507.3381,178.5 507.71,178.85 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="65.8" x="517.09" y="184.7371">SessaoUtilizador</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="492.1" x2="588.7" y1="192.5" y2="192.5"/><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="492.1" x2="588.7" y1="198.1" y2="198.1"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="89.6" x="495.6" y="208.8933">+String getEmailUtilizador()</text><!--MD5=[b57b1df3d36be81c0450474fd0334ff7]
class ClienteBD--><rect codeLine="31" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="82.0258" id="ClienteBD" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="219.1" x="430.85" y="238.35"/><ellipse cx="517.825" cy="249.55" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M519.225,247.1 Q519.3672,246.75 519.5313,246.575 Q519.6953,246.4 519.8813,246.4 Q520.2094,246.4 520.4172,246.5969 Q520.625,246.7938 520.625,247.2531 L520.625,248.3469 Q520.625,248.8062 520.4281,249.0031 Q520.2312,249.2 519.925,249.2 Q519.6516,249.2 519.4766,249.0797 Q519.3016,248.9594 519.225,248.6422 Q519.1922,248.4234 519.0719,248.3031 Q518.8531,248.0734 518.4594,247.9422 Q518.0656,247.8 517.6719,247.8 Q517.1797,247.8 516.7641,247.9969 Q516.3594,248.1938 516.0422,248.6313 Q515.725,249.0688 515.725,249.6703 L515.725,250.3156 Q515.725,251.0375 516.3156,251.5187 Q516.9063,252 517.9563,252 Q518.5797,252 519.0172,251.8578 Q519.2688,251.7812 519.5531,251.5297 Q519.7391,251.3875 519.8375,251.3437 Q519.9359,251.3 520.0563,251.3 Q520.2859,251.3 520.45,251.4859 Q520.625,251.6609 520.625,251.9125 Q520.625,252.1531 520.3844,252.4375 Q520.0344,252.8531 519.4766,253.0828 Q518.7438,253.4 517.8469,253.4 Q516.7969,253.4 515.9547,252.9844 Q515.2766,252.6562 514.7953,251.9453 Q514.325,251.2344 514.325,250.3922 L514.325,249.6266 Q514.325,248.7516 514.7406,247.9859 Q515.1672,247.2203 515.9,246.8156 Q516.6438,246.4 517.475,246.4 Q517.9781,246.4 518.4156,246.575 Q518.8531,246.75 519.225,247.1 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="39.2" x="532.175" y="252.9871">ClienteBD</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="431.55" x2="649.25" y1="260.75" y2="260.75"/><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="431.55" x2="649.25" y1="266.35" y2="266.35"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="76.3" x="435.05" y="277.1433">+ClienteBD ClienteBD()</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="87.5" x="435.05" y="286.8284">+getCreditos(emailCliente)</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="107.1" x="435.05" y="296.5136">+verificaCVV(emailCliente, cvv)</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="158.2" x="435.05" y="306.1987">+adicionaCreditos(emailCliente, novosCreditos)</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="210.7" x="435.05" y="315.8839">+descontaCreditos(emailCliente, numeroCreditosDescontados)</text><!--MD5=[a84bd072b68d9b7b1d264a150fd20f17]
class ProdutoBD--><rect codeLine="39" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="52.9703" id="ProdutoBD" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="129.5" x="475.65" y="345.1"/><ellipse cx="516.425" cy="356.3" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M517.825,353.85 Q517.9672,353.5 518.1313,353.325 Q518.2953,353.15 518.4812,353.15 Q518.8094,353.15 519.0172,353.3469 Q519.225,353.5438 519.225,354.0031 L519.225,355.0969 Q519.225,355.5563 519.0281,355.7531 Q518.8313,355.95 518.525,355.95 Q518.2516,355.95 518.0766,355.8297 Q517.9016,355.7094 517.825,355.3922 Q517.7922,355.1734 517.6719,355.0531 Q517.4531,354.8234 517.0594,354.6922 Q516.6656,354.55 516.2719,354.55 Q515.7797,354.55 515.3641,354.7469 Q514.9594,354.9437 514.6422,355.3812 Q514.325,355.8187 514.325,356.4203 L514.325,357.0656 Q514.325,357.7875 514.9156,358.2687 Q515.5063,358.75 516.5563,358.75 Q517.1797,358.75 517.6172,358.6078 Q517.8688,358.5313 518.1531,358.2797 Q518.3391,358.1375 518.4375,358.0938 Q518.5359,358.05 518.6563,358.05 Q518.8859,358.05 519.05,358.2359 Q519.225,358.4109 519.225,358.6625 Q519.225,358.9031 518.9844,359.1875 Q518.6344,359.6031 518.0766,359.8328 Q517.3438,360.15 516.4469,360.15 Q515.3969,360.15 514.5547,359.7344 Q513.8766,359.4063 513.3953,358.6953 Q512.925,357.9844 512.925,357.1422 L512.925,356.3766 Q512.925,355.5016 513.3406,354.7359 Q513.7672,353.9703 514.5,353.5656 Q515.2438,353.15 516.075,353.15 Q516.5781,353.15 517.0156,353.325 Q517.4531,353.5 517.825,353.85 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="42" x="530.775" y="359.7371">ProdutoBD</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="476.35" x2="604.45" y1="367.5" y2="367.5"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="4.2" x="479.85" y="378.2933">+</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="476.35" x2="604.45" y1="382.7852" y2="382.7852"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="121.1" x="479.85" y="393.5784">+int getStock(produtoID, farmaciaID)</text><!--MD5=[8fb024e8e7bfe3cb30cfe7edaf396684]
class EncomendaBD--><rect codeLine="44" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="52.9703" id="EncomendaBD" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="219.1" x="430.85" y="422.8"/><ellipse cx="508.025" cy="434" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M509.425,431.55 Q509.5672,431.2 509.7313,431.025 Q509.8953,430.85 510.0812,430.85 Q510.4094,430.85 510.6172,431.0469 Q510.825,431.2438 510.825,431.7031 L510.825,432.7969 Q510.825,433.2562 510.6281,433.4531 Q510.4313,433.65 510.125,433.65 Q509.8516,433.65 509.6766,433.5297 Q509.5016,433.4094 509.425,433.0922 Q509.3922,432.8734 509.2719,432.7531 Q509.0531,432.5234 508.6594,432.3922 Q508.2656,432.25 507.8719,432.25 Q507.3797,432.25 506.9641,432.4469 Q506.5594,432.6437 506.2422,433.0812 Q505.925,433.5187 505.925,434.1203 L505.925,434.7656 Q505.925,435.4875 506.5156,435.9688 Q507.1063,436.45 508.1562,436.45 Q508.7797,436.45 509.2172,436.3078 Q509.4687,436.2313 509.7531,435.9797 Q509.9391,435.8375 510.0375,435.7938 Q510.1359,435.75 510.2562,435.75 Q510.4859,435.75 510.65,435.9359 Q510.825,436.1109 510.825,436.3625 Q510.825,436.6031 510.5844,436.8875 Q510.2344,437.3031 509.6766,437.5328 Q508.9437,437.85 508.0469,437.85 Q506.9969,437.85 506.1547,437.4344 Q505.4766,437.1063 504.9953,436.3953 Q504.525,435.6844 504.525,434.8422 L504.525,434.0766 Q504.525,433.2016 504.9406,432.4359 Q505.3672,431.6703 506.1,431.2656 Q506.8437,430.85 507.675,430.85 Q508.1781,430.85 508.6156,431.025 Q509.0531,431.2 509.425,431.55 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="58.8" x="522.375" y="437.4371">EncomendaBD</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="431.55" x2="649.25" y1="445.2" y2="445.2"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="4.2" x="435.05" y="455.9933">+</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="431.55" x2="649.25" y1="460.4852" y2="460.4852"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="210.7" x="435.05" y="471.2784">+int novaEncomenda(farmaciaID, carga, carrinho, emailCliente)</text><!--MD5=[7345749b29fd8c61a47d86e74ba8f537]
class FaturaBD--><rect codeLine="49" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="52.9703" id="FaturaBD" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="329" x="375.9" y="500.5"/><ellipse cx="519.225" cy="511.7" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M520.625,509.25 Q520.7672,508.9 520.9313,508.725 Q521.0953,508.55 521.2813,508.55 Q521.6094,508.55 521.8172,508.7469 Q522.025,508.9437 522.025,509.4031 L522.025,510.4969 Q522.025,510.9562 521.8281,511.1531 Q521.6313,511.35 521.325,511.35 Q521.0516,511.35 520.8766,511.2297 Q520.7016,511.1094 520.625,510.7922 Q520.5922,510.5734 520.4719,510.4531 Q520.2531,510.2234 519.8594,510.0922 Q519.4656,509.95 519.0719,509.95 Q518.5797,509.95 518.1641,510.1469 Q517.7594,510.3437 517.4422,510.7812 Q517.125,511.2187 517.125,511.8203 L517.125,512.4656 Q517.125,513.1875 517.7156,513.6687 Q518.3063,514.15 519.3562,514.15 Q519.9797,514.15 520.4172,514.0078 Q520.6687,513.9313 520.9531,513.6797 Q521.1391,513.5375 521.2375,513.4938 Q521.3359,513.45 521.4563,513.45 Q521.6859,513.45 521.85,513.6359 Q522.025,513.8109 522.025,514.0625 Q522.025,514.3031 521.7844,514.5875 Q521.4344,515.0031 520.8766,515.2328 Q520.1438,515.55 519.2469,515.55 Q518.1969,515.55 517.3547,515.1344 Q516.6766,514.8063 516.1953,514.0953 Q515.725,513.3844 515.725,512.5422 L515.725,511.7766 Q515.725,510.9016 516.1406,510.1359 Q516.5672,509.3703 517.3,508.9656 Q518.0437,508.55 518.875,508.55 Q519.3781,508.55 519.8156,508.725 Q520.2531,508.9 520.625,509.25 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="36.4" x="533.575" y="515.1371">FaturaBD</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="376.6" x2="704.2" y1="522.9" y2="522.9"/><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="376.6" x2="704.2" y1="528.5" y2="528.5"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="320.6" x="380.1" y="539.2933">+int novaFatura(encomendaID, numeroCreditosDescontados, TAXA_ENTREGA, nif, farmaciaID)</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="92.4" x="380.1" y="548.9784">+Fatura getFatura(faturaID)</text><!--MD5=[3707309d909513970d98cd7082f3ca19]
class FarmaciaBD--><rect codeLine="54" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="52.9703" id="FarmaciaBD" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="135.8" x="472.5" y="578.2"/><ellipse cx="513.275" cy="589.4" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M514.675,586.95 Q514.8172,586.6 514.9812,586.425 Q515.1453,586.25 515.3313,586.25 Q515.6594,586.25 515.8672,586.4469 Q516.075,586.6438 516.075,587.1031 L516.075,588.1969 Q516.075,588.6563 515.8781,588.8531 Q515.6813,589.05 515.375,589.05 Q515.1016,589.05 514.9266,588.9297 Q514.7516,588.8094 514.675,588.4922 Q514.6422,588.2734 514.5219,588.1531 Q514.3031,587.9234 513.9094,587.7922 Q513.5156,587.65 513.1219,587.65 Q512.6297,587.65 512.2141,587.8469 Q511.8094,588.0437 511.4922,588.4812 Q511.175,588.9187 511.175,589.5203 L511.175,590.1656 Q511.175,590.8875 511.7656,591.3688 Q512.3562,591.85 513.4063,591.85 Q514.0297,591.85 514.4672,591.7078 Q514.7188,591.6312 515.0031,591.3797 Q515.1891,591.2375 515.2875,591.1937 Q515.3859,591.15 515.5063,591.15 Q515.7359,591.15 515.9,591.3359 Q516.075,591.5109 516.075,591.7625 Q516.075,592.0031 515.8344,592.2875 Q515.4844,592.7031 514.9266,592.9328 Q514.1938,593.25 513.2969,593.25 Q512.2469,593.25 511.4047,592.8344 Q510.7266,592.5062 510.2453,591.7953 Q509.775,591.0844 509.775,590.2422 L509.775,589.4766 Q509.775,588.6016 510.1906,587.8359 Q510.6172,587.0703 511.35,586.6656 Q512.0938,586.25 512.925,586.25 Q513.4281,586.25 513.8656,586.425 Q514.3031,586.6 514.675,586.95 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="48.3" x="527.625" y="592.8371">FarmaciaBD</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="473.2" x2="607.6" y1="600.6" y2="600.6"/><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="473.2" x2="607.6" y1="606.2" y2="606.2"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="93.1" x="476.7" y="616.9933">+FarmaciaBD FarmaciaBD()</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="127.4" x="476.7" y="626.6784">+String getNomeFarmacia(farmaciaID)</text><!--MD5=[d703aab580f67225500cb57f8b850b8c]
class MoradaBD--><rect codeLine="59" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="43.2852" id="MoradaBD" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="90.3" x="495.25" y="655.9"/><ellipse cx="518.035" cy="667.1" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M519.435,664.65 Q519.5772,664.3 519.7412,664.125 Q519.9053,663.95 520.0913,663.95 Q520.4194,663.95 520.6272,664.1469 Q520.835,664.3438 520.835,664.8031 L520.835,665.8969 Q520.835,666.3562 520.6381,666.5531 Q520.4413,666.75 520.135,666.75 Q519.8616,666.75 519.6866,666.6297 Q519.5116,666.5094 519.435,666.1922 Q519.4022,665.9734 519.2819,665.8531 Q519.0631,665.6234 518.6694,665.4922 Q518.2756,665.35 517.8819,665.35 Q517.3897,665.35 516.9741,665.5469 Q516.5694,665.7438 516.2522,666.1813 Q515.935,666.6188 515.935,667.2203 L515.935,667.8656 Q515.935,668.5875 516.5256,669.0687 Q517.1162,669.55 518.1663,669.55 Q518.7897,669.55 519.2272,669.4078 Q519.4788,669.3313 519.7631,669.0797 Q519.9491,668.9375 520.0475,668.8938 Q520.1459,668.85 520.2662,668.85 Q520.4959,668.85 520.66,669.0359 Q520.835,669.2109 520.835,669.4625 Q520.835,669.7031 520.5944,669.9875 Q520.2444,670.4031 519.6866,670.6328 Q518.9537,670.95 518.0569,670.95 Q517.0069,670.95 516.1647,670.5344 Q515.4866,670.2063 515.0053,669.4953 Q514.535,668.7844 514.535,667.9422 L514.535,667.1766 Q514.535,666.3016 514.9506,665.5359 Q515.3772,664.7703 516.11,664.3656 Q516.8538,663.95 517.685,663.95 Q518.1881,663.95 518.6256,664.125 Q519.0631,664.3 519.435,664.65 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="40.6" x="530.565" y="670.5371">MoradaBD</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="495.95" x2="584.85" y1="678.3" y2="678.3"/><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="495.95" x2="584.85" y1="683.9" y2="683.9"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="81.9" x="499.45" y="694.6933">+MoradaBD MoradaBD()</text><!--MD5=[164f2f013fe6976813de586c88f45ee6]
class NotaBD--><rect codeLine="63" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="43.2852" id="NotaBD" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="70.7" x="505.05" y="723.8"/><ellipse cx="523.74" cy="735" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M525.14,732.55 Q525.2822,732.2 525.4463,732.025 Q525.6103,731.85 525.7963,731.85 Q526.1244,731.85 526.3322,732.0469 Q526.54,732.2438 526.54,732.7031 L526.54,733.7969 Q526.54,734.2562 526.3431,734.4531 Q526.1463,734.65 525.84,734.65 Q525.5666,734.65 525.3916,734.5297 Q525.2166,734.4094 525.14,734.0922 Q525.1072,733.8734 524.9869,733.7531 Q524.7681,733.5234 524.3744,733.3922 Q523.9806,733.25 523.5869,733.25 Q523.0947,733.25 522.6791,733.4469 Q522.2744,733.6438 521.9572,734.0813 Q521.64,734.5188 521.64,735.1203 L521.64,735.7656 Q521.64,736.4875 522.2306,736.9688 Q522.8213,737.45 523.8713,737.45 Q524.4947,737.45 524.9322,737.3078 Q525.1838,737.2312 525.4681,736.9797 Q525.6541,736.8375 525.7525,736.7937 Q525.8509,736.75 525.9713,736.75 Q526.2009,736.75 526.365,736.9359 Q526.54,737.1109 526.54,737.3625 Q526.54,737.6031 526.2994,737.8875 Q525.9494,738.3031 525.3916,738.5328 Q524.6588,738.85 523.7619,738.85 Q522.7119,738.85 521.8697,738.4344 Q521.1916,738.1062 520.7103,737.3953 Q520.24,736.6844 520.24,735.8422 L520.24,735.0766 Q520.24,734.2016 520.6556,733.4359 Q521.0822,732.6703 521.815,732.2656 Q522.5588,731.85 523.39,731.85 Q523.8931,731.85 524.3306,732.025 Q524.7681,732.2 525.14,732.55 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="30.1" x="535.36" y="738.4371">NotaBD</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="505.75" x2="575.05" y1="746.2" y2="746.2"/><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="505.75" x2="575.05" y1="751.8" y2="751.8"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="62.3" x="509.25" y="762.5933">+NotaBD NotaBD()</text><!--MD5=[fabe3f24efb2ed1023cbff382ea6f8ce]
class Emails--><rect codeLine="67" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="43.2852" id="Emails" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="200.2" x="440.3" y="791.7"/><ellipse cx="523.775" cy="802.9" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M525.175,800.45 Q525.3172,800.1 525.4812,799.925 Q525.6453,799.75 525.8313,799.75 Q526.1594,799.75 526.3672,799.9469 Q526.575,800.1438 526.575,800.6031 L526.575,801.6969 Q526.575,802.1563 526.3781,802.3531 Q526.1813,802.55 525.875,802.55 Q525.6016,802.55 525.4266,802.4297 Q525.2516,802.3094 525.175,801.9922 Q525.1422,801.7734 525.0219,801.6531 Q524.8031,801.4234 524.4094,801.2922 Q524.0156,801.15 523.6219,801.15 Q523.1297,801.15 522.7141,801.3469 Q522.3094,801.5437 521.9922,801.9812 Q521.675,802.4187 521.675,803.0203 L521.675,803.6656 Q521.675,804.3875 522.2656,804.8688 Q522.8562,805.35 523.9063,805.35 Q524.5297,805.35 524.9672,805.2078 Q525.2188,805.1312 525.5031,804.8797 Q525.6891,804.7375 525.7875,804.6937 Q525.8859,804.65 526.0063,804.65 Q526.2359,804.65 526.4,804.8359 Q526.575,805.0109 526.575,805.2625 Q526.575,805.5031 526.3344,805.7875 Q525.9844,806.2031 525.4266,806.4328 Q524.6938,806.75 523.7969,806.75 Q522.7469,806.75 521.9047,806.3344 Q521.2266,806.0062 520.7453,805.2953 Q520.275,804.5844 520.275,803.7422 L520.275,802.9766 Q520.275,802.1016 520.6906,801.3359 Q521.1172,800.5703 521.85,800.1656 Q522.5938,799.75 523.425,799.75 Q523.9281,799.75 524.3656,799.925 Q524.8031,800.1 525.175,800.45 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="27.3" x="538.125" y="806.3371">Emails</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="441" x2="639.8" y1="814.1" y2="814.1"/><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="441" x2="639.8" y1="819.7" y2="819.7"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="191.8" x="444.5" y="830.4933">+sendEmail(nomeFarmacia ,emailCliente, "Fatura", fatura)</text><!--MD5=[9c5439856a1aad23e042de9a355b14cb]
class BaseDados--><rect codeLine="71" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="52.9703" id="BaseDados" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="106.4" x="746.9" y="500.5"/><ellipse cx="774.41" cy="511.7" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M775.81,509.25 Q775.9522,508.9 776.1162,508.725 Q776.2803,508.55 776.4663,508.55 Q776.7944,508.55 777.0022,508.7469 Q777.21,508.9437 777.21,509.4031 L777.21,510.4969 Q777.21,510.9562 777.0131,511.1531 Q776.8163,511.35 776.51,511.35 Q776.2366,511.35 776.0616,511.2297 Q775.8866,511.1094 775.81,510.7922 Q775.7772,510.5734 775.6569,510.4531 Q775.4381,510.2234 775.0444,510.0922 Q774.6506,509.95 774.2569,509.95 Q773.7647,509.95 773.3491,510.1469 Q772.9444,510.3437 772.6272,510.7812 Q772.31,511.2187 772.31,511.8203 L772.31,512.4656 Q772.31,513.1875 772.9006,513.6687 Q773.4912,514.15 774.5412,514.15 Q775.1647,514.15 775.6022,514.0078 Q775.8537,513.9313 776.1381,513.6797 Q776.3241,513.5375 776.4225,513.4938 Q776.5209,513.45 776.6412,513.45 Q776.8709,513.45 777.035,513.6359 Q777.21,513.8109 777.21,514.0625 Q777.21,514.3031 776.9694,514.5875 Q776.6194,515.0031 776.0616,515.2328 Q775.3287,515.55 774.4319,515.55 Q773.3819,515.55 772.5397,515.1344 Q771.8616,514.8063 771.3803,514.0953 Q770.91,513.3844 770.91,512.5422 L770.91,511.7766 Q770.91,510.9016 771.3256,510.1359 Q771.7522,509.3703 772.485,508.9656 Q773.2287,508.55 774.06,508.55 Q774.5631,508.55 775.0006,508.725 Q775.4381,508.9 775.81,509.25 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="46.2" x="787.99" y="515.1371">BaseDados</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="747.6" x2="852.6" y1="522.9" y2="522.9"/><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="747.6" x2="852.6" y1="528.5" y2="528.5"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="98" x="751.1" y="539.2933">+Connection getConnection()</text><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="65.8" x="751.1" y="548.9784">+closeConnection()</text><!--MD5=[ffcdea4b3e2d37271d31ffe210ac8423]
class ValidaParametros--><rect codeLine="76" fill="#FEFECE" filter="url(#f1kan3n2ardhz8)" height="43.2852" id="ValidaParametros" style="stroke:#A80036;stroke-width:1.0499999999999998;" width="91.7" x="494.55" y="859.6"/><ellipse cx="505.05" cy="870.8" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#A80036;stroke-width:0.7;"/><path d="M506.45,868.35 Q506.5922,868 506.7562,867.825 Q506.9203,867.65 507.1063,867.65 Q507.4344,867.65 507.6422,867.8469 Q507.85,868.0437 507.85,868.5031 L507.85,869.5969 Q507.85,870.0563 507.6531,870.2531 Q507.4562,870.45 507.15,870.45 Q506.8766,870.45 506.7016,870.3297 Q506.5266,870.2094 506.45,869.8922 Q506.4172,869.6734 506.2969,869.5531 Q506.0781,869.3234 505.6844,869.1922 Q505.2906,869.05 504.8969,869.05 Q504.4047,869.05 503.9891,869.2469 Q503.5844,869.4437 503.2672,869.8812 Q502.95,870.3187 502.95,870.9203 L502.95,871.5656 Q502.95,872.2875 503.5406,872.7688 Q504.1312,873.25 505.1813,873.25 Q505.8047,873.25 506.2422,873.1078 Q506.4938,873.0313 506.7781,872.7797 Q506.9641,872.6375 507.0625,872.5938 Q507.1609,872.55 507.2812,872.55 Q507.5109,872.55 507.675,872.7359 Q507.85,872.9109 507.85,873.1625 Q507.85,873.4031 507.6094,873.6875 Q507.2594,874.1031 506.7016,874.3328 Q505.9687,874.65 505.0719,874.65 Q504.0219,874.65 503.1797,874.2344 Q502.5016,873.9063 502.0203,873.1953 Q501.55,872.4844 501.55,871.6422 L501.55,870.8766 Q501.55,870.0016 501.9656,869.2359 Q502.3922,868.4703 503.125,868.0656 Q503.8688,867.65 504.7,867.65 Q505.2031,867.65 505.6406,867.825 Q506.0781,868 506.45,868.35 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="69.3" x="514.85" y="874.2371">ValidaParametros</text><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="495.25" x2="585.55" y1="882" y2="882"/><line style="stroke:#A80036;stroke-width:1.0499999999999998;" x1="495.25" x2="585.55" y1="887.6" y2="887.6"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="82.6" x="498.75" y="898.3933">+validaParametroNIF(nif)</text><!--MD5=[869a9e76f09ac25e4c33040684c6082a]
link FinalizarCompraUI to FinalizarCompraController--><path codeLine="80" d="M99.547,488.6 C111.279,488.6 124.32,488.6 137.571,488.6 " fill="none" id="FinalizarCompraUI-to-FinalizarCompraController" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="141.309,488.6,135.009,485.8,137.809,488.6,135.009,491.4,141.309,488.6" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[e6a11d92f3223ea851573286e9fa3c59]
link FinalizarCompraController to CarrinhoCompras--><path codeLine="82" d="M240.212,442.491 C246.19,357.945 271.229,177.821 375.9,79.8 C406.728,50.932 454.496,40.789 490.511,37.457 " fill="none" id="FinalizarCompraController-to-CarrinhoCompras" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="494.172,37.135,487.649,34.9034,490.6857,37.4447,488.1444,40.4814,494.172,37.135" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[ccdabe414d7968673f5614d535a34c03]
link FinalizarCompraController to AplicacaoPOT--><path codeLine="83" d="M244.104,442.645 C255.64,370.622 288.477,231.728 375.9,157.5 C410.13,128.436 462.315,120.393 498.547,118.608 " fill="none" id="FinalizarCompraController-to-AplicacaoPOT" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="502.222,118.447,495.8079,115.9193,498.7252,118.5969,496.0477,121.5142,502.222,118.447" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[195842a9a2d4379222feef2ebbb49a92]
link FinalizarCompraController to SessaoUtilizador--><path codeLine="84" d="M249.375,442.701 C266.168,383.124 304.073,280.392 375.9,226.1 C407.89,201.922 452.991,193.844 487.774,191.534 " fill="none" id="FinalizarCompraController-to-SessaoUtilizador" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="491.316,191.317,484.8592,188.9005,487.8223,191.5272,485.1956,194.4903,491.316,191.317" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[56155d7cebc7b1595c0b0198e2da123b]
link FinalizarCompraController to ClienteBD--><path codeLine="85" d="M268.555,442.589 C293.545,407.834 331.975,361.354 375.9,332.5 C391.601,322.182 409.465,313.726 427.483,306.838 " fill="none" id="FinalizarCompraController-to-ClienteBD" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="430.85,305.571,423.9669,305.1797,427.5761,306.8087,425.9472,310.4179,430.85,305.571" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[8390dfaa6720bd3c24d4d2aead8e4a5e]
link FinalizarCompraController to ProdutoBD--><path codeLine="86" d="M309.764,442.75 C330.498,430.871 353.577,418.971 375.9,410.2 C406.595,398.139 442.071,389.228 472.15,383.033 " fill="none" id="FinalizarCompraController-to-ProdutoBD" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="475.601,382.326,468.8683,380.8423,472.1717,383.0259,469.9881,386.3292,475.601,382.326" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[6d5f8e7618285ba389df07900f467b6a]
link FinalizarCompraController to EncomendaBD--><path codeLine="87" d="M333.907,476.168 C363.538,472.318 396.466,468.034 427.133,464.044 " fill="none" id="FinalizarCompraController-to-EncomendaBD" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="430.675,463.582,424.0672,461.6155,427.2041,464.0321,424.7874,467.169,430.675,463.582" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[7eba017fa20842489908cfdc668cc779]
link FinalizarCompraController to FarmaciaBD--><path codeLine="88" d="M311.654,534.534 C331.926,545.867 354.298,557.158 375.9,565.6 C405.538,577.185 439.579,586.005 468.923,592.312 " fill="none" id="FinalizarCompraController-to-FarmaciaBD" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="472.479,593.075,466.8999,589.0249,469.0557,592.3464,465.7341,594.5022,472.479,593.075" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[0375c84a0b0129a1aa0015f70963dc25]
link FinalizarCompraController to FaturaBD--><path codeLine="89" d="M333.907,500.808 C346.199,502.376 359.058,504.021 372.085,505.687 " fill="none" id="FinalizarCompraController-to-FaturaBD" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="375.767,506.156,369.8794,502.569,372.2961,505.7059,369.1592,508.1225,375.767,506.156" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[f354dacee8caaf770cddcec6d30f6a9c]
link FinalizarCompraController to MoradaBD--><path codeLine="90" d="M267.19,534.625 C291.753,569.891 330.267,616.854 375.9,643.3 C411.32,663.831 457.38,672.147 491.624,675.486 " fill="none" id="FinalizarCompraController-to-MoradaBD" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="495.11,675.808,489.1016,672.4274,491.6255,675.4785,488.5744,678.0025,495.11,675.808" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[09d2442f89bb72aa79f6f87fa5d46578]
link FinalizarCompraController to NotaBD--><path codeLine="91" d="M254.058,534.576 C274.064,585.928 313.705,667.555 375.9,711.2 C413.035,737.254 465.801,744.289 501.326,745.808 " fill="none" id="FinalizarCompraController-to-NotaBD" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="504.917,745.948,498.7253,742.9161,501.4194,745.8181,498.5174,748.5122,504.917,745.948" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[29dd825c2944440b70d25827f68c1c65]
link FinalizarCompraController to Emails--><path codeLine="92" d="M246.841,534.583 C261.359,599.55 297.346,717.185 375.9,779.1 C393.337,792.841 414.96,801.437 436.709,806.736 " fill="none" id="FinalizarCompraController-to-Emails" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="440.202,807.555,434.7081,803.3901,436.7945,806.7556,433.429,808.842,440.202,807.555" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[6c0fd2f0fe42edb235604d9bc1b7e821]
link FinalizarCompraController to ValidaParametros--><path codeLine="93" d="M242.228,534.758 C251.272,611.793 280.882,766.094 375.9,847 C407.603,873.999 455.154,881.517 490.868,882.903 " fill="none" id="FinalizarCompraController-to-ValidaParametros" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="494.501,883.029,488.2921,880.0325,491.0027,882.9191,488.1162,885.6297,494.501,883.029" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[dabe127c7377f15c86b459316af904de]
link ClienteBD to BaseDados--><path codeLine="95" d="M650.069,301.056 C669.851,308.623 689.171,318.808 704.9,332.5 C755.594,376.635 781.592,454.174 792.652,496.832 " fill="none" id="ClienteBD-to-BaseDados" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="793.548,500.346,794.7129,493.5509,792.6874,496.9535,789.2848,494.928,793.548,500.346" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[13ad64eb49d11895b15dedd182a09dd2]
link ProdutoBD to BaseDados--><path codeLine="96" d="M605.339,376.936 C637.21,381.885 675.157,391.51 704.9,410.2 C739.298,431.809 766.808,470.365 783.083,497.266 " fill="none" id="ProdutoBD-to-BaseDados" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="785.015,500.486,784.1747,493.6432,783.2143,497.4848,779.3727,496.5244,785.015,500.486" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[99bd99f4e6f61c488c4be9aac60b471f]
link EncomendaBD to BaseDados--><path codeLine="97" d="M650.16,472.416 C668.57,477.05 687.386,482.251 704.9,487.9 C717.493,491.96 730.758,496.979 743.239,502.054 " fill="none" id="EncomendaBD-to-BaseDados" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="746.739,503.482,741.961,498.512,743.4977,502.1615,739.8482,503.6981,746.739,503.482" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[dbd15f50e17d92579182b6d34e88172b]
link FarmaciaBD to BaseDados--><path codeLine="98" d="M608.482,591.101 C638.316,584.416 673.652,575.638 704.9,565.6 C717.465,561.561 730.716,556.612 743.197,551.628 " fill="none" id="FarmaciaBD-to-BaseDados" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="746.697,550.221,739.8077,549.961,743.4473,551.5209,741.8875,555.1605,746.697,550.221" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[9f27393f8311e83b7bbc879748344316]
link FaturaBD to BaseDados--><path codeLine="99" d="M705.054,527.1 C718.529,527.1 731.458,527.1 743.197,527.1 " fill="none" id="FaturaBD-to-BaseDados" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="746.795,527.1,740.495,524.3,743.295,527.1,740.495,529.9,746.795,527.1" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[dd5557e0584c7ae80926c94375161989]
link MoradaBD to BaseDados--><path codeLine="100" d="M585.592,676.284 C620.326,673.449 668.612,665.406 704.9,643.3 C739.466,622.237 766.941,583.821 783.16,556.948 " fill="none" id="MoradaBD-to-BaseDados" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="785.085,553.728,779.4583,557.7117,783.296,556.7363,784.2715,560.574,785.085,553.728" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[5dc30bb0210efd098c769d0a988653a4]
link NotaBD to BaseDados--><path codeLine="101" d="M575.995,746.564 C611.821,745.892 667.471,739.739 704.9,711.2 C755.748,672.427 781.571,598.57 792.589,557.158 " fill="none" id="NotaBD-to-BaseDados" style="stroke:#A80036;stroke-width:0.7;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="793.485,553.749,789.1731,559.1284,792.5938,557.1336,794.5885,560.5543,793.485,553.749" style="stroke:#A80036;stroke-width:0.7;"/><!--MD5=[d64ae6d2aff1cbcdeadf69bb9a51b807]
@startuml

skinparam classAttributeIconSize 0
left to right direction

class FinalizarCompraUI{}

class FinalizarCompraController{
    +FinalizarCompraController FinalizarCompraController()
    +getCreditos()
    +validaCVV(cvv)
    +finalizarCompra(numeroCreditosDescontados, nif)
    -validaStock(carrinho)
    -calcularPesoCarrinho(carrinho)
}

class CarrinhoCompras{
    +getCarrinho()
    +getPrecoTotal()
    +limparCarrinho()
}

class AplicacaoPOT{
    +getInstance()
    +getSessaoAtual()
}

class SessaoUtilizador{
    +String getEmailUtilizador()
}

class ClienteBD{
    +ClienteBD ClienteBD()
    +getCreditos(emailCliente)
    +verificaCVV(emailCliente, cvv)
    +adicionaCreditos(emailCliente, novosCreditos)
    +descontaCreditos(emailCliente, numeroCreditosDescontados)
}

class ProdutoBD{
    +int getStock(produtoID, farmaciaID)
    +
}

class EncomendaBD{
    +int novaEncomenda(farmaciaID, carga, carrinho, emailCliente)
    +
}

class FaturaBD{
    +int novaFatura(encomendaID, numeroCreditosDescontados, TAXA_ENTREGA, nif, farmaciaID)
    +Fatura getFatura(faturaID)
}

class FarmaciaBD{
    +FarmaciaBD FarmaciaBD()
    +String getNomeFarmacia(farmaciaID)
}

class MoradaBD{
    +MoradaBD MoradaBD()
}

class NotaBD{
    +NotaBD NotaBD()
}

class Emails{
    +sendEmail(nomeFarmacia ,emailCliente, "Fatura", fatura)
}

class BaseDados{
    +Connection getConnection()
    +closeConnection()
}

class ValidaParametros{
    +validaParametroNIF(nif)
}

FinalizarCompraUI ..> FinalizarCompraController

FinalizarCompraController ..> CarrinhoCompras
FinalizarCompraController ..> AplicacaoPOT
FinalizarCompraController ..> SessaoUtilizador
FinalizarCompraController ..> ClienteBD
FinalizarCompraController ..> ProdutoBD
FinalizarCompraController ..> EncomendaBD
FinalizarCompraController ..> FarmaciaBD
FinalizarCompraController ..> FaturaBD
FinalizarCompraController ..> MoradaBD
FinalizarCompraController ..> NotaBD
FinalizarCompraController ..> Emails
FinalizarCompraController ..> ValidaParametros

ClienteBD ..> BaseDados
ProdutoBD ..> BaseDados
EncomendaBD ..> BaseDados
FarmaciaBD ..> BaseDados
FaturaBD ..> BaseDados
MoradaBD ..> BaseDados
NotaBD ..> BaseDados

@enduml

PlantUML version 1.2020.23(Sun Dec 13 19:14:58 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>