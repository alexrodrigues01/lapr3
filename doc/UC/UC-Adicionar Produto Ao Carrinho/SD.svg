<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="653px" preserveAspectRatio="none" style="width:1199px;height:653px;" version="1.1" viewBox="0 0 1199 653" width="1199px" zoomAndPan="magnify"><defs><filter height="300%" id="f14n10ka5v3ur1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="415.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="59" y="117.2188"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="181.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="297" y="139.5703"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="181.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="297" y="351.3281"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="120.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="169.9219"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="120.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="381.6797"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="919" y="200.2734"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="919" y="260.625"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008.5" y="412.0313"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1119.5" y="472.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="64" x2="64" y1="107.2188" y2="550.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="301.5" x2="301.5" y1="107.2188" y2="550.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="612.5" x2="612.5" y1="107.2188" y2="550.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="923.5" x2="923.5" y1="107.2188" y2="550.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1013.5" x2="1013.5" y1="107.2188" y2="550.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1124.5" x2="1124.5" y1="107.2188" y2="550.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="16" y="86.5332">Utilizador Não</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="5" y="104.1426">Registado/Cliente</text><ellipse cx="64" cy="15" fill="#FEFECE" filter="url(#f14n10ka5v3ur1)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M64,23 L64,50 M51,31 L77,31 M64,50 L51,65 M64,50 L77,65 " fill="none" filter="url(#f14n10ka5v3ur1)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="16" y="564.2676">Utilizador Não</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="5" y="581.877">Registado/Cliente</text><ellipse cx="64" cy="594.9531" fill="#FEFECE" filter="url(#f14n10ka5v3ur1)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M64,602.9531 L64,629.9531 M51,610.9531 L77,610.9531 M64,629.9531 L51,644.9531 M64,629.9531 L77,644.9531 " fill="none" filter="url(#f14n10ka5v3ur1)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f14n10ka5v3ur1)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="87" x="256.5" y="70.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="263.5" y="92.1426">:CatalogoUI</text><rect fill="#FEFECE" filter="url(#f14n10ka5v3ur1)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="87" x="256.5" y="549.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="263.5" y="571.2676">:CatalogoUI</text><rect fill="#FEFECE" filter="url(#f14n10ka5v3ur1)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="131" x="545.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="554.5" y="74.5332">:AdicionarProduto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="552.5" y="92.1426">CarrinhoController</text><rect fill="#FEFECE" filter="url(#f14n10ka5v3ur1)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="131" x="545.5" y="549.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="554.5" y="571.2676">:AdicionarProduto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="552.5" y="588.877">CarrinhoController</text><rect fill="#FEFECE" filter="url(#f14n10ka5v3ur1)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="83" x="880.5" y="70.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="887.5" y="92.1426">ProdutoBD</text><rect fill="#FEFECE" filter="url(#f14n10ka5v3ur1)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="83" x="880.5" y="549.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="887.5" y="571.2676">ProdutoBD</text><rect fill="#FEFECE" filter="url(#f14n10ka5v3ur1)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="68" x="977.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="987" y="74.5332">produto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="984.5" y="92.1426">:Produto</text><rect fill="#FEFECE" filter="url(#f14n10ka5v3ur1)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="68" x="977.5" y="549.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="987" y="571.2676">produto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="984.5" y="588.877">:Produto</text><rect fill="#FEFECE" filter="url(#f14n10ka5v3ur1)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="126" x="1059.5" y="70.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="1066.5" y="92.1426">CarrinhoCompras</text><rect fill="#FEFECE" filter="url(#f14n10ka5v3ur1)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="126" x="1059.5" y="549.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="1066.5" y="571.2676">CarrinhoCompras</text><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="415.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="59" y="117.2188"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="181.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="297" y="139.5703"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="181.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="297" y="351.3281"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="120.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="169.9219"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="120.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="381.6797"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="919" y="200.2734"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="919" y="260.625"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1008.5" y="412.0313"/><rect fill="#FFFFFF" filter="url(#f14n10ka5v3ur1)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1119.5" y="472.3828"/><polygon fill="#A80036" points="285,135.5703,295,139.5703,285,143.5703,289,139.5703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="69" x2="291" y1="139.5703" y2="139.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="76" y="134.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="87" y="134.7139">Adicionar produto ao carrinho</text><polygon fill="#A80036" points="596,165.9219,606,169.9219,596,173.9219,600,169.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="307" x2="602" y1="169.9219" y2="169.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="314" y="165.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="325" y="165.0654">idValido=validarProdutoId(farmaciaId,idProduto)</text><polygon fill="#A80036" points="907,196.2734,917,200.2734,907,204.2734,911,200.2734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="913" y1="200.2734" y2="200.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="625" y="195.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="636" y="195.417">idValido=validarProdutoId(farmaciaId,idProduto)</text><polygon fill="#A80036" points="907,256.625,917,260.625,907,264.625,911,260.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="913" y1="260.625" y2="260.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="625" y="255.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="636" y="255.7686">produto=getProdutoById(idProduto)</text><polygon fill="#A80036" points="80,316.9766,70,320.9766,80,324.9766,76,320.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74" x2="301" y1="320.9766" y2="320.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="86" y="316.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="97" y="316.1201">Solicita a quantidade de produtos</text><polygon fill="#A80036" points="285,347.3281,295,351.3281,285,355.3281,289,351.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="69" x2="291" y1="351.3281" y2="351.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="76" y="346.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="87" y="346.4717">Insere a quantidade de produtos</text><polygon fill="#A80036" points="596,377.6797,606,381.6797,596,385.6797,600,381.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="307" x2="602" y1="381.6797" y2="381.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="314" y="376.8232">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="325" y="376.8232">adicionarAoCarrinho(quantidade)</text><polygon fill="#A80036" points="996.5,408.0313,1006.5,412.0313,996.5,416.0313,1000.5,412.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="1002.5" y1="412.0313" y2="412.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="625" y="407.1748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="305" x="636" y="407.1748">temStockSuficiente=temStockSuficiente(quantidade)</text><polygon fill="#A80036" points="1107.5,468.3828,1117.5,472.3828,1107.5,476.3828,1111.5,472.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="1113.5" y1="472.3828" y2="472.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="625" y="467.5264">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="636" y="467.5264">adicionarProduto(produto,quantidade)</text><polygon fill="#A80036" points="75,528.7344,65,532.7344,75,536.7344,71,532.7344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69" x2="301" y1="532.7344" y2="532.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="81" y="527.8779">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="99" y="527.8779">Operação bem sucedida</text><!--MD5=[d5a08702c59cd84c86d4081d7f0c7598]
@startuml
autonumber

actor "Utilizador Não \nRegistado/Cliente" as UNR
participant ":CatalogoUI" as UI
participant ":AdicionarProduto\nCarrinhoController" as CTRL

activate UNR

UNR->UI:Adicionar produto ao carrinho
activate UI

UI->CTRL:idValido=validarProdutoId(farmaciaId,idProduto)
activate CTRL
CTRL->ProdutoBD:idValido=validarProdutoId(farmaciaId,idProduto)
activate ProdutoBD
deactivate ProdutoBD



CTRL->"ProdutoBD":produto=getProdutoById(idProduto)

activate ProdutoBD
deactivate ProdutoBD


deactivate CTRL



UI - -> UNR : Solicita a quantidade de produtos
deactivate UI

UNR -> UI : Insere a quantidade de produtos
activate UI

UI->CTRL:adicionarAoCarrinho(quantidade)
activate CTRL
CTRL->"produto\n:Produto" : temStockSuficiente=temStockSuficiente(quantidade)
activate "produto\n:Produto"
deactivate "produto\n:Produto"
CTRL->CarrinhoCompras:adicionarProduto(produto,quantidade)
activate CarrinhoCompras
deactivate CarrinhoCompras
deactivate CTRL

UI - -> UNR : Operação bem sucedida
deactivate UI

deactivate CTRL
deactivate UNR

@enduml

PlantUML version 1.2020.23(Sun Dec 13 19:14:58 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>