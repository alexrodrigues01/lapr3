<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1266px" preserveAspectRatio="none" style="width:2094px;height:1266px;" version="1.1" viewBox="0 0 2094 1266" width="2094px" zoomAndPan="magnify"><defs><filter height="300%" id="fhj84o0k81mpf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="1100.0859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="38" y="89.5703"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="549.8672" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="319" y="89.5703"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="519.8672" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="319" y="669.7891"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="497.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="484" y="119.9219"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="467.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="484" y="700.1406"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="635.5" y="150.2734"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="771.5" y="210.625"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="939" y="270.9766"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1167" y="479.3828"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1389" y="331.3281"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1560" y="417.0313"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1560" y="565.0859"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1560" y="755.8438"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1560" y="848.5469"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1560" y="976.25"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1754" y="915.8984"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1934" y="1061.9531"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2039" y="1122.3047"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="233.7578" style="stroke: #000000; stroke-width: 2.0;" width="1281" x="383.5" y="376.3281"/><rect fill="#FFFFFF" height="155.0547" style="stroke: none; stroke-width: 1.0;" width="1281" x="383.5" y="455.0313"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="78.7031" style="stroke: #000000; stroke-width: 2.0;" width="1261" x="393.5" y="524.3828"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="78.7031" style="stroke: #000000; stroke-width: 2.0;" width="1261" x="393.5" y="715.1406"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="78.7031" style="stroke: #000000; stroke-width: 2.0;" width="1261" x="393.5" y="807.8438"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="139.0547" style="stroke: #000000; stroke-width: 2.0;" width="1690" x="393.5" y="1021.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="43" x2="43" y1="57.2188" y2="1207.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="323.5" x2="323.5" y1="57.2188" y2="1207.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="488.5" x2="488.5" y1="57.2188" y2="1207.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="640.5" x2="640.5" y1="57.2188" y2="1207.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="776.5" x2="776.5" y1="57.2188" y2="1207.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="943.5" x2="943.5" y1="57.2188" y2="1207.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1171.5" x2="1171.5" y1="57.2188" y2="1207.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1393.5" x2="1393.5" y1="57.2188" y2="1207.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1564.5" x2="1564.5" y1="57.2188" y2="1207.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1758.5" x2="1758.5" y1="57.2188" y2="1207.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1938.5" x2="1938.5" y1="57.2188" y2="1207.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2043.5" x2="2043.5" y1="57.2188" y2="1207.6563"/><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="66" x="8" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="15" y="42.1426">Estafeta</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="66" x="8" y="1206.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="15" y="1228.1895">Estafeta</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="263.5" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="270.5" y="42.1426">:IniciarEntregaUI</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="263.5" y="1206.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="270.5" y="1228.1895">:IniciarEntregaUI</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="403.5" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="410.5" y="42.1426">:IniciarEntregaController</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="403.5" y="1206.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="410.5" y="1228.1895">:IniciarEntregaController</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="584.5" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="591.5" y="42.1426">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="584.5" y="1206.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="591.5" y="1228.1895">:AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="706.5" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="713.5" y="42.1426">app :AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="706.5" y="1206.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="713.5" y="1228.1895">app :AplicacaoPOT</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="856.5" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="863.5" y="42.1426">sessao :SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="856.5" y="1206.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="863.5" y="1228.1895">sessao :SessaoUtilizador</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="257" x="1041.5" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="243" x="1048.5" y="42.1426">gestorFarmaciaBD:GestorFarmaciaBD</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="257" x="1041.5" y="1206.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="243" x="1048.5" y="1228.1895">gestorFarmaciaBD:GestorFarmaciaBD</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="1312.5" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="1319.5" y="42.1426">estafetaBD:EstafetaBD</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="1312.5" y="1206.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="1319.5" y="1228.1895">estafetaBD:EstafetaBD</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="1485.5" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="1492.5" y="42.1426">entregaBD:EntregaBD</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="1485.5" y="1206.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="1492.5" y="1228.1895">entregaBD:EntregaBD</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="205" x="1654.5" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="191" x="1661.5" y="42.1426">encomendaBD:EncomendaBD</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="205" x="1654.5" y="1206.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="191" x="1661.5" y="1228.1895">encomendaBD:EncomendaBD</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="1873.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1885" y="24.5332">listaEncomenda:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1880.5" y="42.1426">List&lt;Encomenda&gt;</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="1873.5" y="1206.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1885" y="1228.1895">listaEncomenda:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1880.5" y="1245.7988">List&lt;Encomenda&gt;</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="2014.5" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="2021.5" y="42.1426">Emails</text><rect fill="#FEFECE" filter="url(#fhj84o0k81mpf)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="2014.5" y="1206.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="2021.5" y="1228.1895">Emails</text><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="1100.0859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="38" y="89.5703"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="549.8672" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="319" y="89.5703"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="519.8672" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="319" y="669.7891"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="497.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="484" y="119.9219"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="467.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="484" y="700.1406"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="635.5" y="150.2734"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="771.5" y="210.625"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="939" y="270.9766"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1167" y="479.3828"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1389" y="331.3281"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1560" y="417.0313"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1560" y="565.0859"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1560" y="755.8438"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1560" y="848.5469"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1560" y="976.25"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1754" y="915.8984"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1934" y="1061.9531"/><rect fill="#FFFFFF" filter="url(#fhj84o0k81mpf)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2039" y="1122.3047"/><polygon fill="#A80036" points="307,85.5703,317,89.5703,307,93.5703,311,89.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48" x2="313" y1="89.5703" y2="89.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="55" y="84.7139">Iniciar entrega</text><polygon fill="#A80036" points="472,115.9219,482,119.9219,472,123.9219,476,119.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="329" x2="478" y1="119.9219" y2="119.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="336" y="115.0654">entregas=getEntregas()</text><polygon fill="#A80036" points="623.5,146.2734,633.5,150.2734,623.5,154.2734,627.5,150.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="629.5" y1="150.2734" y2="150.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="501" y="145.417">app = getInstance()</text><polygon fill="#A80036" points="759.5,206.625,769.5,210.625,759.5,214.625,763.5,210.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="765.5" y1="210.625" y2="210.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="501" y="205.7686">sessao = getSessaoAtual()</text><polygon fill="#A80036" points="927,266.9766,937,270.9766,927,274.9766,931,270.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="933" y1="270.9766" y2="270.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="501" y="266.1201">email = getEmailUtilizador()</text><polygon fill="#A80036" points="1377,327.3281,1387,331.3281,1377,335.3281,1381,331.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="1383" y1="331.3281" y2="331.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="501" y="326.4717">isEstafeta=isEstafeta(email)</text><path d="M383.5,376.3281 L444.5,376.3281 L444.5,384.3281 L434.5,394.3281 L383.5,394.3281 L383.5,376.3281 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="233.7578" style="stroke: #000000; stroke-width: 2.0;" width="1281" x="383.5" y="376.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="398.5" y="390.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107" x="459.5" y="389.7471">[if isEstafeta==true]</text><polygon fill="#A80036" points="1548,413.0313,1558,417.0313,1548,421.0313,1552,417.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="1554" y1="417.0313" y2="417.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="501" y="412.1748">lista=getEntregaByEstafeta(email)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="383.5" x2="1664.5" y1="456.0313" y2="456.0313"/><polygon fill="#A80036" points="1155,475.3828,1165,479.3828,1155,483.3828,1159,479.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="1161" y1="479.3828" y2="479.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="501" y="474.5264">validaGestor=validaGestor(email)</text><path d="M393.5,524.3828 L458.5,524.3828 L458.5,532.3828 L448.5,542.3828 L393.5,542.3828 L393.5,524.3828 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="78.7031" style="stroke: #000000; stroke-width: 2.0;" width="1261" x="393.5" y="524.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="408.5" y="538.8779">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="188" x="473.5" y="537.8018">[se existir gestor com este email]</text><polygon fill="#A80036" points="1548,561.0859,1558,565.0859,1548,569.0859,1552,565.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="1554" y1="565.0859" y2="565.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="501" y="560.2295">lista=getEntregasToDoDrone(email)</text><polygon fill="#A80036" points="59,635.4375,49,639.4375,59,643.4375,55,639.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="53" x2="323" y1="639.4375" y2="639.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="65" y="634.5811">Apresenta a entrega e solicita confirmação</text><polygon fill="#A80036" points="307,665.7891,317,669.7891,307,673.7891,311,669.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48" x2="313" y1="669.7891" y2="669.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="55" y="664.9326">Confirma</text><polygon fill="#A80036" points="472,696.1406,482,700.1406,472,704.1406,476,700.1406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="329" x2="478" y1="700.1406" y2="700.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="336" y="695.2842">iniciarEntrega()</text><path d="M393.5,715.1406 L458.5,715.1406 L458.5,723.1406 L448.5,733.1406 L393.5,733.1406 L393.5,715.1406 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="78.7031" style="stroke: #000000; stroke-width: 2.0;" width="1261" x="393.5" y="715.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="408.5" y="729.6357">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86" x="473.5" y="728.5596">[isDrone==true]</text><polygon fill="#A80036" points="1548,751.8438,1558,755.8438,1548,759.8438,1552,755.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="1554" y1="755.8438" y2="755.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="501" y="750.9873">validaIdEntregaToDoDrone(email,idEntrega)</text><path d="M393.5,807.8438 L458.5,807.8438 L458.5,815.8438 L448.5,825.8438 L393.5,825.8438 L393.5,807.8438 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="78.7031" style="stroke: #000000; stroke-width: 2.0;" width="1261" x="393.5" y="807.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="408.5" y="822.3389">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97" x="473.5" y="821.2627">[isEstafeta==true]</text><polygon fill="#A80036" points="1548,844.5469,1558,848.5469,1548,852.5469,1552,848.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="1554" y1="848.5469" y2="848.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="501" y="843.6904">validaIdEntregaToDoDrone(email,idEntrega)</text><polygon fill="#A80036" points="1742,911.8984,1752,915.8984,1742,919.8984,1746,915.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="1748" y1="915.8984" y2="915.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="333" x="501" y="911.042">listaEncomenda=getEncomendasByEntregaId(idEntrega);</text><polygon fill="#A80036" points="1548,972.25,1558,976.25,1548,980.25,1552,976.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="1554" y1="976.25" y2="976.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="501" y="971.3936">iniciarEntrega(idEntrega)</text><path d="M393.5,1021.25 L466.5,1021.25 L466.5,1029.25 L456.5,1039.25 L393.5,1039.25 L393.5,1021.25 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="139.0547" style="stroke: #000000; stroke-width: 2.0;" width="1690" x="393.5" y="1021.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="408.5" y="1035.7451">loop</text><polygon fill="#A80036" points="1922,1057.9531,1932,1061.9531,1922,1065.9531,1926,1061.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="1928" y1="1061.9531" y2="1061.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="501" y="1057.0967">encomenda=get(i)</text><polygon fill="#A80036" points="2027,1118.3047,2037,1122.3047,2027,1126.3047,2031,1122.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494" x2="2033" y1="1122.3047" y2="1122.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="501" y="1117.4482">sendEmail(sender,emailCliente,assunto,texto)</text><polygon fill="#A80036" points="54,1185.6563,44,1189.6563,54,1193.6563,50,1189.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="48" x2="323" y1="1189.6563" y2="1189.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="60" y="1184.7998">Operação bem sucedida</text><!--MD5=[3ef35f55d1252390ee4e3bafd0e82c40]
@startuml
participant Estafeta
participant ":IniciarEntregaUI" as IniciarEntregaUI
participant ":IniciarEntregaController" as CTRL
participant ":AplicacaoPOT" AS POT
participant "app :AplicacaoPOT" AS APP
participant "sessao :SessaoUtilizador" AS SESSAO
participant "gestorFarmaciaBD:GestorFarmaciaBD" as GestorFarmaciaBD
participant "estafetaBD:EstafetaBD" as EstafetaBD
participant "entregaBD:EntregaBD" as EntregaBD
participant "encomendaBD:EncomendaBD" as EncomendaBD

Estafeta-> IniciarEntregaUI: Iniciar entrega
activate IniciarEntregaUI
activate Estafeta
IniciarEntregaUI->CTRL:entregas=getEntregas()

activate CTRL
        CTRL -> POT : app = getInstance()
        activate POT
        deactivate POT

        CTRL -> APP : sessao = getSessaoAtual()
        activate APP
        deactivate APP

        CTRL -> SESSAO : email = getEmailUtilizador()
        activate SESSAO
        deactivate SESSAO

        CTRL -> EstafetaBD : isEstafeta=isEstafeta(email)
        activate EstafetaBD
        deactivate EstafetaBD

        alt if isEstafeta==true

               CTRL -> EntregaBD : lista=getEntregaByEstafeta(email)
               activate EntregaBD
               deactivate EntregaBD

        else

                CTRL -> GestorFarmaciaBD : validaGestor=validaGestor(email)
                activate GestorFarmaciaBD
                deactivate GestorFarmaciaBD

                opt se existir gestor com este email

                    CTRL -> EntregaBD : lista=getEntregasToDoDrone(email)
                    activate EntregaBD
                    deactivate EntregaBD

                end
        end

        activate EntregaBD
        deactivate EntregaBD

deactivate CTRL

IniciarEntregaUI- ->Estafeta: Apresenta a entrega e solicita confirmação
deactivate IniciarEntregaUI
Estafeta-> IniciarEntregaUI: Confirma
activate IniciarEntregaUI
IniciarEntregaUI->CTRL:iniciarEntrega()
activate CTRL

    opt isDrone==true

        CTRL->EntregaBD:validaIdEntregaToDoDrone(email,idEntrega)
        activate EntregaBD
        deactivate EntregaBD

    end

    opt isEstafeta==true

        CTRL->EntregaBD:validaIdEntregaToDoDrone(email,idEntrega)
        activate EntregaBD
        deactivate EntregaBD

    end

    CTRL->EncomendaBD:listaEncomenda=getEncomendasByEntregaId(idEntrega);
    activate EncomendaBD
    deactivate EncomendaBD



    CTRL->EntregaBD:iniciarEntrega(idEntrega)
    activate EntregaBD
    deactivate EntregaBD

    loop
    CTRL->"listaEncomenda:\nList<Encomenda>":encomenda=get(i)
    activate "listaEncomenda:\nList<Encomenda>"
    deactivate "listaEncomenda:\nList<Encomenda>"
    CTRL->Emails:sendEmail(sender,emailCliente,assunto,texto)
    activate Emails
    deactivate Emails
    end
deactivate CTRL
IniciarEntregaUI- ->Estafeta: Operação bem sucedida
deactivate IniciarEntregaUI
deactivate Estafeta

@enduml

PlantUML version 1.2020.07(Sun Apr 19 12:42:40 BST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b765.25
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>