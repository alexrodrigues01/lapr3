<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1072px" preserveAspectRatio="none" style="width:2671px;height:1072px;" version="1.1" viewBox="0 0 2671 1072" width="2671px" zoomAndPan="magnify"><defs><filter height="300%" id="f10mu6wd23x663" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="846.6797" style="stroke:#A80036;stroke-width:1.0;" width="10" x="77" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="964" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="392.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="964" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="362.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="964" y="605.8281"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="332.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1636" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="302.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1636" y="636.1797"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2049" y="243.3672"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2049" y="303.7188"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2049" y="364.0703"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="120.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2171" y="424.4219"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="120.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2171" y="817.5859"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="120.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2272.5" y="666.5313"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2423.5" y="454.7734"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2423.5" y="515.125"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2423.5" y="696.8828"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2423.5" y="757.2344"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2423.5" y="847.9375"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2423.5" y="908.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="82" x2="82" y1="89.6094" y2="986.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="969" x2="969" y1="89.6094" y2="986.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1641" x2="1641" y1="89.6094" y2="986.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2053.5" x2="2053.5" y1="89.6094" y2="986.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2175.5" x2="2175.5" y1="89.6094" y2="986.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2277.5" x2="2277.5" y1="89.6094" y2="986.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2428" x2="2428" y1="89.6094" y2="986.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2577" x2="2577" y1="89.6094" y2="986.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="5" y="86.5332">Utilizador nao registado</text><ellipse cx="82" cy="15" fill="#FEFECE" filter="url(#f10mu6wd23x663)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M82,23 L82,50 M69,31 L95,31 M82,50 L69,65 M82,50 L95,65 " fill="none" filter="url(#f10mu6wd23x663)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="5" y="1000.1738">Utilizador nao registado</text><ellipse cx="82" cy="1013.25" fill="#FEFECE" filter="url(#f10mu6wd23x663)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M82,1021.25 L82,1048.25 M69,1029.25 L95,1029.25 M82,1048.25 L69,1063.25 M82,1048.25 L95,1063.25 " fill="none" filter="url(#f10mu6wd23x663)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="122" x="906" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="913" y="74.5332">:RegistoClienteUI</text><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="122" x="906" y="985.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="913" y="1007.1738">:RegistoClienteUI</text><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="172" x="1553" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="1560" y="74.5332">:RegistoClienteController</text><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="172" x="1553" y="985.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="1560" y="1007.1738">:RegistoClienteController</text><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="135" x="1984.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="1991.5" y="74.5332">:ValidarParametros</text><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="135" x="1984.5" y="985.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="1991.5" y="1007.1738">:ValidarParametros</text><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="81" x="2133.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="2140.5" y="74.5332">:ClienteBD</text><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="81" x="2133.5" y="985.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="2140.5" y="1007.1738">:ClienteBD</text><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="94" x="2228.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="2235.5" y="74.5332">:UtilizadorBD</text><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="94" x="2228.5" y="985.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="2235.5" y="1007.1738">:UtilizadorBD</text><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="107" x="2373" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="2380" y="74.5332">bd:BaseDados</text><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="107" x="2373" y="985.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="2380" y="1007.1738">bd:BaseDados</text><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="163" x="2494" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="2501" y="74.5332">connection :Connection</text><rect fill="#FEFECE" filter="url(#f10mu6wd23x663)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="163" x="2494" y="985.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="2501" y="1007.1738">connection :Connection</text><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="846.6797" style="stroke:#A80036;stroke-width:1.0;" width="10" x="77" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="964" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="392.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="964" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="362.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="964" y="605.8281"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="332.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1636" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="302.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1636" y="636.1797"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2049" y="243.3672"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2049" y="303.7188"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2049" y="364.0703"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="120.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2171" y="424.4219"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="120.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2171" y="817.5859"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="120.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2272.5" y="666.5313"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2423.5" y="454.7734"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2423.5" y="515.125"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2423.5" y="696.8828"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2423.5" y="757.2344"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2423.5" y="847.9375"/><rect fill="#FFFFFF" filter="url(#f10mu6wd23x663)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2423.5" y="908.2891"/><polygon fill="#A80036" points="952,117.9609,962,121.9609,952,125.9609,956,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="87" x2="958" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="94" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="105" y="117.1045">inicia registo de novo utilizador como cliente</text><polygon fill="#A80036" points="98,148.3125,88,152.3125,98,156.3125,94,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92" x2="968" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="104" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="842" x="115" y="147.4561">solicita a introducao dos dados pessoais do cliente (nome, NIF, telefone, morada, coordenadas GPS, informacao cartao credito, email, password)</text><polygon fill="#A80036" points="952,178.6641,962,182.6641,952,186.6641,956,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="87" x2="958" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="94" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="105" y="177.8076">introduz os dados</text><polygon fill="#A80036" points="1624,209.0156,1634,213.0156,1624,217.0156,1628,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="974" x2="1630" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="981" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="608" x="992" y="208.1592">novoCliente(nome, nif, telefone, morada, latitude, longitude, nCartCred, valCartCred, cvv, email, password)</text><polygon fill="#A80036" points="2037,239.3672,2047,243.3672,2037,247.3672,2041,243.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1646" x2="2043" y1="243.3672" y2="243.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1653" y="238.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="373" x="1664" y="238.5107">validarParametrosUtilizador(email, password, nome, nif, telefone)</text><polygon fill="#A80036" points="2037,299.7188,2047,303.7188,2037,307.7188,2041,303.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1646" x2="2043" y1="303.7188" y2="303.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1653" y="298.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307" x="1664" y="298.8623">validarParametrosMorada(morada, latitude, longitude)</text><polygon fill="#A80036" points="2037,360.0703,2047,364.0703,2037,368.0703,2041,364.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1646" x2="2043" y1="364.0703" y2="364.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1653" y="359.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="1664" y="359.2139">validarParametrosCliente(nCartCred, valCartCred, cvv)</text><polygon fill="#A80036" points="2159,420.4219,2169,424.4219,2159,428.4219,2163,424.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1646" x2="2165" y1="424.4219" y2="424.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1653" y="419.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="1664" y="419.5654">validaCliente(email,nif)</text><polygon fill="#A80036" points="2411.5,450.7734,2421.5,454.7734,2411.5,458.7734,2415.5,454.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2181" x2="2417.5" y1="454.7734" y2="454.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="2188" y="449.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2199" y="449.917">getConnection()</text><polygon fill="#A80036" points="2411.5,511.125,2421.5,515.125,2411.5,519.125,2415.5,515.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2181" x2="2417.5" y1="515.125" y2="515.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2188" y="510.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="2206" y="510.2686">closeConnection()</text><polygon fill="#A80036" points="98,571.4766,88,575.4766,98,579.4766,94,575.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92" x2="968" y1="575.4766" y2="575.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="104" y="570.6201">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="122" y="570.6201">mostra a informacao, solicitando confirmacao</text><polygon fill="#A80036" points="952,601.8281,962,605.8281,952,609.8281,956,605.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="87" x2="958" y1="605.8281" y2="605.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="94" y="600.9717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="112" y="600.9717">confirma</text><polygon fill="#A80036" points="1624,632.1797,1634,636.1797,1624,640.1797,1628,636.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="974" x2="1630" y1="636.1797" y2="636.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="981" y="631.3232">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="625" x="999" y="631.3232">registarCliente(nome, nif, telefone, morada, latitude, longitude, nCartCred, valCartCred, cvv, email, password)</text><polygon fill="#A80036" points="2260.5,662.5313,2270.5,666.5313,2260.5,670.5313,2264.5,666.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1646" x2="2266.5" y1="666.5313" y2="666.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1653" y="661.6748">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="464" x="1671" y="661.6748">novoUtilizador(email,password,nome,nif,telefone,papel,morada,latitude,longitude)</text><polygon fill="#A80036" points="2411.5,692.8828,2421.5,696.8828,2411.5,700.8828,2415.5,696.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2282.5" x2="2417.5" y1="696.8828" y2="696.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2289.5" y="692.0264">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2307.5" y="692.0264">getConnection()</text><polygon fill="#A80036" points="2411.5,753.2344,2421.5,757.2344,2411.5,761.2344,2415.5,757.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2282.5" x2="2417.5" y1="757.2344" y2="757.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2289.5" y="752.3779">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="2307.5" y="752.3779">closeConnection()</text><polygon fill="#A80036" points="2159,813.5859,2169,817.5859,2159,821.5859,2163,817.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1646" x2="2165" y1="817.5859" y2="817.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1653" y="812.7295">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="1671" y="812.7295">registaCliente(email,nCartCred,valCartCred,cvv)</text><polygon fill="#A80036" points="2411.5,843.9375,2421.5,847.9375,2411.5,851.9375,2415.5,847.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2181" x2="2417.5" y1="847.9375" y2="847.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2188" y="843.0811">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2206" y="843.0811">getConnection()</text><polygon fill="#A80036" points="2411.5,904.2891,2421.5,908.2891,2411.5,912.2891,2415.5,908.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2181" x2="2417.5" y1="908.2891" y2="908.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2188" y="903.4326">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="2206" y="903.4326">closeConnection()</text><polygon fill="#A80036" points="93,964.6406,83,968.6406,93,972.6406,89,968.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="968" y1="968.6406" y2="968.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="99" y="963.7842">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="428" x="117" y="963.7842">regista dados do novo utilizador e informa acerca do sucesso da operacao</text><!--MD5=[c3d8f0142ef7c4a8af75410e1b8eab71]
@startuml
autonumber

actor "Utilizador nao registado" as UNR
participant ":RegistoClienteUI" as UI
participant ":RegistoClienteController" as CONTROLLER
participant ":ValidarParametros" as VP
participant ":ClienteBD" as CBD
participant ":UtilizadorBD" AS USER_BD
participant "bd:BaseDados" as BD
participant "connection :Connection"

UNR -> UI : inicia registo de novo utilizador como cliente
activate UNR
activate UI

UI - -> UNR : solicita a introducao dos dados pessoais do cliente (nome, NIF, telefone, morada, coordenadas GPS, informacao cartao credito, email, password)
deactivate UI

UNR -> UI : introduz os dados
activate UI

    UI -> CONTROLLER : novoCliente(nome, nif, telefone, morada, latitude, longitude, nCartCred, valCartCred, cvv, email, password)
    activate CONTROLLER

        CONTROLLER -> VP: validarParametrosUtilizador(email, password, nome, nif, telefone)
        activate VP
        deactivate VP
        CONTROLLER -> VP: validarParametrosMorada(morada, latitude, longitude)
        activate VP
        deactivate VP
        CONTROLLER -> VP: validarParametrosCliente(nCartCred, valCartCred, cvv)
        activate VP
        deactivate VP
        CONTROLLER -> CBD : validaCliente(email,nif)
        activate CBD
        CBD -> BD : getConnection()
        activate BD
        deactivate BD
        CBD -> BD : closeConnection()
        activate BD
        deactivate BD
        deactivate CBD

    deactivate CONTROLLER

UI - -> UNR : mostra a informacao, solicitando confirmacao
deactivate UI

UNR -> UI : confirma
activate UI

    UI -> CONTROLLER : registarCliente(nome, nif, telefone, morada, latitude, longitude, nCartCred, valCartCred, cvv, email, password)
    activate CONTROLLER

        CONTROLLER -> USER_BD : novoUtilizador(email,password,nome,nif,telefone,papel,morada,latitude,longitude)
            activate USER_BD
                USER_BD -> BD : getConnection()
                activate BD
                deactivate BD
                USER_BD -> BD : closeConnection()
                activate BD
                deactivate BD
            deactivate USER_BD

        CONTROLLER -> CBD : registaCliente(email,nCartCred,valCartCred,cvv)
                activate CBD
                    CBD -> BD : getConnection()
                    activate BD
                    deactivate BD
                    CBD -> BD : closeConnection()
                    activate BD
                    deactivate BD
                deactivate CBD

    deactivate CONTROLLER

UI - -> UNR : regista dados do novo utilizador e informa acerca do sucesso da operacao
deactivate UI
deactivate UNR
@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>